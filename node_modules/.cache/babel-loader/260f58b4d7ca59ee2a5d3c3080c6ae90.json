{"ast":null,"code":"import { computed, ref, watch } from \"vue\";\nimport { isArray } from \"../../_utils/is.js\";\n\nconst useColumnFilter = ({\n  column,\n  tableCtx\n}) => {\n  const filterValue = computed(() => {\n    var _a;\n\n    if (column.value.dataIndex && ((_a = tableCtx.filters) == null ? void 0 : _a[column.value.dataIndex])) {\n      return tableCtx.filters[column.value.dataIndex];\n    }\n\n    return [];\n  });\n  const filterPopupVisible = ref(false);\n  const isFilterActive = computed(() => filterValue.value.length > 0);\n  const isMultipleFilter = computed(() => {\n    var _a;\n\n    return Boolean((_a = column.value.filterable) == null ? void 0 : _a.multiple);\n  });\n  const columnFilterValue = ref(filterValue.value);\n  watch(filterValue, value => {\n    if (isArray(value) && String(value) !== String(columnFilterValue.value)) {\n      columnFilterValue.value = value;\n    }\n  });\n\n  const handleFilterPopupVisibleChange = value => {\n    filterPopupVisible.value = value;\n  };\n\n  const setFilterValue = filterValue2 => {\n    columnFilterValue.value = filterValue2;\n  };\n\n  const handleCheckboxFilterChange = values => {\n    setFilterValue(values);\n  };\n\n  const handleRadioFilterChange = value => {\n    setFilterValue([value]);\n  };\n\n  const handleFilterConfirm = ev => {\n    var _a;\n\n    if (column.value.dataIndex) {\n      (_a = tableCtx.onFilterChange) == null ? void 0 : _a.call(tableCtx, column.value.dataIndex, columnFilterValue.value, ev);\n    }\n\n    handleFilterPopupVisibleChange(false);\n  };\n\n  const handleFilterReset = ev => {\n    var _a;\n\n    setFilterValue([]);\n\n    if (column.value.dataIndex) {\n      (_a = tableCtx.onFilterChange) == null ? void 0 : _a.call(tableCtx, column.value.dataIndex, columnFilterValue.value, ev);\n    }\n\n    handleFilterPopupVisibleChange(false);\n  };\n\n  return {\n    filterPopupVisible,\n    isFilterActive,\n    isMultipleFilter,\n    columnFilterValue,\n    handleFilterPopupVisibleChange,\n    setFilterValue,\n    handleCheckboxFilterChange,\n    handleRadioFilterChange,\n    handleFilterConfirm,\n    handleFilterReset\n  };\n};\n\nexport { useColumnFilter };","map":{"version":3,"names":["computed","ref","watch","isArray","useColumnFilter","column","tableCtx","filterValue","_a","value","dataIndex","filters","filterPopupVisible","isFilterActive","length","isMultipleFilter","Boolean","filterable","multiple","columnFilterValue","String","handleFilterPopupVisibleChange","setFilterValue","filterValue2","handleCheckboxFilterChange","values","handleRadioFilterChange","handleFilterConfirm","ev","onFilterChange","call","handleFilterReset"],"sources":["/www/wwwroot/admin/node_modules/@arco-design/web-vue/es/table/hooks/use-column-filter.js"],"sourcesContent":["import { computed, ref, watch } from \"vue\";\nimport { isArray } from \"../../_utils/is.js\";\nconst useColumnFilter = ({\n  column,\n  tableCtx\n}) => {\n  const filterValue = computed(() => {\n    var _a;\n    if (column.value.dataIndex && ((_a = tableCtx.filters) == null ? void 0 : _a[column.value.dataIndex])) {\n      return tableCtx.filters[column.value.dataIndex];\n    }\n    return [];\n  });\n  const filterPopupVisible = ref(false);\n  const isFilterActive = computed(() => filterValue.value.length > 0);\n  const isMultipleFilter = computed(() => {\n    var _a;\n    return Boolean((_a = column.value.filterable) == null ? void 0 : _a.multiple);\n  });\n  const columnFilterValue = ref(filterValue.value);\n  watch(filterValue, (value) => {\n    if (isArray(value) && String(value) !== String(columnFilterValue.value)) {\n      columnFilterValue.value = value;\n    }\n  });\n  const handleFilterPopupVisibleChange = (value) => {\n    filterPopupVisible.value = value;\n  };\n  const setFilterValue = (filterValue2) => {\n    columnFilterValue.value = filterValue2;\n  };\n  const handleCheckboxFilterChange = (values) => {\n    setFilterValue(values);\n  };\n  const handleRadioFilterChange = (value) => {\n    setFilterValue([value]);\n  };\n  const handleFilterConfirm = (ev) => {\n    var _a;\n    if (column.value.dataIndex) {\n      (_a = tableCtx.onFilterChange) == null ? void 0 : _a.call(tableCtx, column.value.dataIndex, columnFilterValue.value, ev);\n    }\n    handleFilterPopupVisibleChange(false);\n  };\n  const handleFilterReset = (ev) => {\n    var _a;\n    setFilterValue([]);\n    if (column.value.dataIndex) {\n      (_a = tableCtx.onFilterChange) == null ? void 0 : _a.call(tableCtx, column.value.dataIndex, columnFilterValue.value, ev);\n    }\n    handleFilterPopupVisibleChange(false);\n  };\n  return {\n    filterPopupVisible,\n    isFilterActive,\n    isMultipleFilter,\n    columnFilterValue,\n    handleFilterPopupVisibleChange,\n    setFilterValue,\n    handleCheckboxFilterChange,\n    handleRadioFilterChange,\n    handleFilterConfirm,\n    handleFilterReset\n  };\n};\nexport { useColumnFilter };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}