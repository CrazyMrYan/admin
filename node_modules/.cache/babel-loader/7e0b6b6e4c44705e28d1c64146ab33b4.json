{"ast":null,"code":"import { toRefs, reactive } from \"vue\";\nimport { getRangeIndex, getScrollPercentage } from \"../utils/index.js\";\nimport { throttleByRaf } from \"../../../_utils/throttle-by-raf.js\";\n\nfunction useRangeState(props) {\n  const {\n    viewportRef,\n    visibleCount,\n    itemCount\n  } = toRefs(props);\n  const rangeState = reactive({\n    itemIndex: 0,\n    itemOffsetPtg: 0,\n    startIndex: 0,\n    endIndex: visibleCount.value\n  });\n\n  const updateRangeState = () => {\n    if (!viewportRef.value) return;\n    const {\n      scrollTop: rawScrollTop,\n      clientHeight,\n      scrollHeight\n    } = viewportRef.value;\n    const scrollPtg = getScrollPercentage({\n      scrollTop: rawScrollTop,\n      clientHeight,\n      scrollHeight\n    });\n    const {\n      itemIndex,\n      itemOffsetPtg,\n      startIndex,\n      endIndex\n    } = getRangeIndex(scrollPtg, itemCount.value, visibleCount.value);\n    rangeState.itemIndex = Math.min(itemCount.value - 1, itemIndex);\n    rangeState.itemOffsetPtg = itemOffsetPtg;\n    rangeState.startIndex = startIndex;\n    rangeState.endIndex = endIndex;\n  };\n\n  return {\n    rangeState,\n    updateRangeState: throttleByRaf(updateRangeState)\n  };\n}\n\nexport { useRangeState };","map":{"version":3,"names":["toRefs","reactive","getRangeIndex","getScrollPercentage","throttleByRaf","useRangeState","props","viewportRef","visibleCount","itemCount","rangeState","itemIndex","itemOffsetPtg","startIndex","endIndex","value","updateRangeState","scrollTop","rawScrollTop","clientHeight","scrollHeight","scrollPtg","Math","min"],"sources":["/www/wwwroot/admin/node_modules/@arco-design/web-vue/es/_components/virtual-list/hooks/use-range-state.js"],"sourcesContent":["import { toRefs, reactive } from \"vue\";\nimport { getRangeIndex, getScrollPercentage } from \"../utils/index.js\";\nimport { throttleByRaf } from \"../../../_utils/throttle-by-raf.js\";\nfunction useRangeState(props) {\n  const { viewportRef, visibleCount, itemCount } = toRefs(props);\n  const rangeState = reactive({\n    itemIndex: 0,\n    itemOffsetPtg: 0,\n    startIndex: 0,\n    endIndex: visibleCount.value\n  });\n  const updateRangeState = () => {\n    if (!viewportRef.value)\n      return;\n    const {\n      scrollTop: rawScrollTop,\n      clientHeight,\n      scrollHeight\n    } = viewportRef.value;\n    const scrollPtg = getScrollPercentage({\n      scrollTop: rawScrollTop,\n      clientHeight,\n      scrollHeight\n    });\n    const { itemIndex, itemOffsetPtg, startIndex, endIndex } = getRangeIndex(scrollPtg, itemCount.value, visibleCount.value);\n    rangeState.itemIndex = Math.min(itemCount.value - 1, itemIndex);\n    rangeState.itemOffsetPtg = itemOffsetPtg;\n    rangeState.startIndex = startIndex;\n    rangeState.endIndex = endIndex;\n  };\n  return {\n    rangeState,\n    updateRangeState: throttleByRaf(updateRangeState)\n  };\n}\nexport { useRangeState };\n"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,QAAjB,QAAiC,KAAjC;AACA,SAASC,aAAT,EAAwBC,mBAAxB,QAAmD,mBAAnD;AACA,SAASC,aAAT,QAA8B,oCAA9B;;AACA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;EAC5B,MAAM;IAAEC,WAAF;IAAeC,YAAf;IAA6BC;EAA7B,IAA2CT,MAAM,CAACM,KAAD,CAAvD;EACA,MAAMI,UAAU,GAAGT,QAAQ,CAAC;IAC1BU,SAAS,EAAE,CADe;IAE1BC,aAAa,EAAE,CAFW;IAG1BC,UAAU,EAAE,CAHc;IAI1BC,QAAQ,EAAEN,YAAY,CAACO;EAJG,CAAD,CAA3B;;EAMA,MAAMC,gBAAgB,GAAG,MAAM;IAC7B,IAAI,CAACT,WAAW,CAACQ,KAAjB,EACE;IACF,MAAM;MACJE,SAAS,EAAEC,YADP;MAEJC,YAFI;MAGJC;IAHI,IAIFb,WAAW,CAACQ,KAJhB;IAKA,MAAMM,SAAS,GAAGlB,mBAAmB,CAAC;MACpCc,SAAS,EAAEC,YADyB;MAEpCC,YAFoC;MAGpCC;IAHoC,CAAD,CAArC;IAKA,MAAM;MAAET,SAAF;MAAaC,aAAb;MAA4BC,UAA5B;MAAwCC;IAAxC,IAAqDZ,aAAa,CAACmB,SAAD,EAAYZ,SAAS,CAACM,KAAtB,EAA6BP,YAAY,CAACO,KAA1C,CAAxE;IACAL,UAAU,CAACC,SAAX,GAAuBW,IAAI,CAACC,GAAL,CAASd,SAAS,CAACM,KAAV,GAAkB,CAA3B,EAA8BJ,SAA9B,CAAvB;IACAD,UAAU,CAACE,aAAX,GAA2BA,aAA3B;IACAF,UAAU,CAACG,UAAX,GAAwBA,UAAxB;IACAH,UAAU,CAACI,QAAX,GAAsBA,QAAtB;EACD,CAlBD;;EAmBA,OAAO;IACLJ,UADK;IAELM,gBAAgB,EAAEZ,aAAa,CAACY,gBAAD;EAF1B,CAAP;AAID;;AACD,SAASX,aAAT"},"metadata":{},"sourceType":"module"}