{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport { defineComponent, toRefs, ref, computed, watch, nextTick, onMounted, createVNode } from \"vue\";\nimport { getTabListStyle } from \"./utils.js\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport TabsTab from \"./tabs-tab.js\";\nimport TabsButton from \"./tabs-button.js\";\nimport TabsNavInk from \"./tabs-nav-ink.js\";\nimport IconHover from \"../_components/icon-hover.js\";\nimport IconPlus from \"../icon/icon-plus/index.js\";\nimport ResizeObserver from \"../_components/resize-observer.js\";\nimport { isUndefined } from \"../_utils/is.js\";\nvar TabsNav = defineComponent({\n  name: \"TabsNav\",\n  props: {\n    tabs: {\n      type: Array,\n      required: true\n    },\n    direction: {\n      type: String,\n      required: true\n    },\n    type: {\n      type: String,\n      required: true\n    },\n    activeKey: {\n      type: [String, Number]\n    },\n    activeIndex: {\n      type: Number,\n      required: true\n    },\n    position: {\n      type: String,\n      required: true\n    },\n    size: {\n      type: String,\n      required: true\n    },\n    showAddButton: {\n      type: Boolean,\n      default: false\n    },\n    editable: {\n      type: Boolean,\n      default: false\n    },\n    animation: {\n      type: Boolean,\n      required: true\n    },\n    headerPadding: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: [\"click\", \"add\", \"delete\"],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const {\n      tabs,\n      activeKey,\n      activeIndex,\n      direction\n    } = toRefs(props);\n    const prefixCls = getPrefixCls(\"tabs-nav\");\n    const wrapperRef = ref();\n    const listRef = ref();\n    const tabsRef = ref({});\n    const activeTabRef = computed(() => {\n      if (!isUndefined(activeKey.value)) {\n        return tabsRef.value[activeKey.value];\n      }\n\n      return void 0;\n    });\n    const inkRef = ref();\n    const mergedEditable = computed(() => props.editable && [\"line\", \"card\", \"card-gutter\"].includes(props.type));\n    const isScroll = ref(false);\n    const wrapperLength = ref(0);\n    const maxOffset = ref(0);\n    const tabEndOffsets = ref([]);\n    const offset = ref(0);\n\n    const getWrapperLength = () => {\n      var _a, _b, _c;\n\n      return (_c = direction.value === \"vertical\" ? (_a = wrapperRef.value) == null ? void 0 : _a.offsetHeight : (_b = wrapperRef.value) == null ? void 0 : _b.offsetWidth) != null ? _c : 0;\n    };\n\n    const getMaxOffset = () => {\n      if (!listRef.value || !wrapperRef.value) {\n        return 0;\n      }\n\n      if (direction.value === \"vertical\") {\n        return listRef.value.offsetHeight - wrapperRef.value.offsetHeight;\n      }\n\n      return listRef.value.offsetWidth - wrapperRef.value.offsetWidth;\n    };\n\n    const getTabEndOffsets = () => {\n      return tabs.value.map(item => {\n        const ele = tabsRef.value[item.key];\n\n        if (direction.value === \"vertical\") {\n          return ele.offsetTop + ele.offsetHeight;\n        }\n\n        return ele.offsetLeft + ele.offsetWidth;\n      });\n    };\n\n    const getSize = () => {\n      isScroll.value = isOverflow();\n\n      if (isScroll.value) {\n        wrapperLength.value = getWrapperLength();\n        maxOffset.value = getMaxOffset();\n        tabEndOffsets.value = getTabEndOffsets();\n\n        if (offset.value > maxOffset.value) {\n          offset.value = maxOffset.value;\n        }\n      } else {\n        offset.value = 0;\n      }\n    };\n\n    const isOverflow = () => {\n      if (wrapperRef.value && listRef.value) {\n        return props.direction === \"vertical\" ? listRef.value.offsetHeight > wrapperRef.value.offsetHeight : listRef.value.offsetWidth > wrapperRef.value.offsetWidth;\n      }\n\n      return false;\n    };\n\n    const isInView = index => {\n      var _a;\n\n      return ((_a = tabEndOffsets.value[index - 1]) != null ? _a : 0) >= offset.value && tabEndOffsets.value[index] <= offset.value + wrapperLength.value;\n    };\n\n    const getNextOffset = type => {\n      if (!wrapperRef.value) {\n        return 0;\n      }\n\n      if (props.type === \"capsule\") {\n        return type === \"previous\" ? offset.value + wrapperLength.value : offset.value - wrapperLength.value;\n      }\n\n      return type === \"previous\" ? offset.value - wrapperLength.value : offset.value + wrapperLength.value;\n    };\n\n    const getValidOffset = offset2 => {\n      if (!wrapperRef.value || !listRef.value || offset2 < 0) {\n        return 0;\n      }\n\n      if (offset2 > maxOffset.value) {\n        return maxOffset.value;\n      }\n\n      return offset2;\n    };\n\n    const handleClick = (key, ev) => {\n      emit(\"click\", key, ev);\n    };\n\n    const handleDelete = (key, ev) => {\n      emit(\"delete\", key, ev);\n    };\n\n    const handleButtonClick = type => {\n      offset.value = getValidOffset(getNextOffset(type));\n    };\n\n    const handleResize = () => {\n      getSize();\n\n      if (inkRef.value) {\n        inkRef.value.$forceUpdate();\n      }\n    };\n\n    watch(tabs, () => {\n      nextTick(() => {\n        getSize();\n      });\n    });\n    watch(activeIndex, (current, pre) => {\n      nextTick(() => {\n        var _a;\n\n        if (isScroll.value) {\n          if (current >= pre) {\n            const offsetIndex = current < tabEndOffsets.value.length - 1 ? current + 1 : current;\n\n            if (!isInView(offsetIndex)) {\n              offset.value = tabEndOffsets.value[offsetIndex] - wrapperLength.value;\n            }\n          } else {\n            const offsetIndex = current > 0 ? current - 1 : current;\n\n            if (!isInView(offsetIndex)) {\n              offset.value = (_a = tabEndOffsets.value[offsetIndex - 1]) != null ? _a : 0;\n            }\n          }\n        }\n      });\n    });\n    onMounted(() => {\n      getSize();\n    });\n\n    const renderAddBtn = () => {\n      if (!mergedEditable.value || !props.showAddButton) {\n        return null;\n      }\n\n      return createVNode(\"div\", {\n        \"class\": `${prefixCls}-add-btn`,\n        \"onClick\": ev => emit(\"add\", ev)\n      }, [createVNode(IconHover, null, {\n        default: () => [createVNode(IconPlus, null, null)]\n      })]);\n    };\n\n    const cls = computed(() => [prefixCls, `${prefixCls}-${props.direction}`, `${prefixCls}-${props.position}`, `${prefixCls}-size-${props.size}`, `${prefixCls}-type-${props.type}`]);\n    const listCls = computed(() => [`${prefixCls}-tab-list`, {\n      [`${prefixCls}-tab-list-no-padding`]: !props.headerPadding && [\"line\", \"text\"].includes(props.type) && props.direction === \"horizontal\"\n    }]);\n    const listStyle = computed(() => getTabListStyle({\n      direction: props.direction,\n      type: props.type,\n      offset: offset.value\n    }));\n    return () => {\n      var _a;\n\n      return createVNode(\"div\", {\n        \"class\": cls.value\n      }, [isScroll.value && createVNode(TabsButton, {\n        \"type\": \"previous\",\n        \"direction\": props.direction,\n        \"disabled\": offset.value <= 0,\n        \"onClick\": handleButtonClick\n      }, null), createVNode(ResizeObserver, {\n        \"onResize\": () => getSize()\n      }, {\n        default: () => [createVNode(\"div\", {\n          \"class\": `${prefixCls}-tab`,\n          \"ref\": wrapperRef\n        }, [createVNode(ResizeObserver, {\n          \"onResize\": handleResize\n        }, {\n          default: () => [createVNode(\"div\", {\n            \"ref\": listRef,\n            \"class\": listCls.value,\n            \"style\": listStyle.value\n          }, [props.tabs.map((tab, index) => createVNode(TabsTab, {\n            \"key\": tab.key,\n            \"ref\": component => {\n              if (component == null ? void 0 : component.$el) {\n                tabsRef.value[tab.key] = component.$el;\n              }\n            },\n            \"active\": tab.key === activeKey.value,\n            \"tab\": tab,\n            \"editable\": props.editable,\n            \"onClick\": handleClick,\n            \"onDelete\": handleDelete\n          }, {\n            default: () => {\n              var _a2, _b, _c;\n\n              return [(_c = (_b = (_a2 = tab.slots).title) == null ? void 0 : _b.call(_a2)) != null ? _c : tab.title];\n            }\n          })), props.type === \"line\" && createVNode(TabsNavInk, {\n            \"ref\": inkRef,\n            \"activeTabRef\": activeTabRef.value,\n            \"direction\": props.direction,\n            \"disabled\": false,\n            \"animation\": props.animation\n          }, null)])]\n        }), !isScroll.value && renderAddBtn()])]\n      }), isScroll.value && createVNode(TabsButton, {\n        \"type\": \"next\",\n        \"direction\": props.direction,\n        \"disabled\": offset.value >= maxOffset.value,\n        \"onClick\": handleButtonClick\n      }, null), createVNode(\"div\", {\n        \"class\": `${prefixCls}-extra`\n      }, [isScroll.value && renderAddBtn(), (_a = slots.extra) == null ? void 0 : _a.call(slots)])]);\n    };\n  }\n\n});\nexport { TabsNav as default };","map":{"version":3,"names":["defineComponent","toRefs","ref","computed","watch","nextTick","onMounted","createVNode","getTabListStyle","getPrefixCls","TabsTab","TabsButton","TabsNavInk","IconHover","IconPlus","ResizeObserver","isUndefined","TabsNav","name","props","tabs","type","Array","required","direction","String","activeKey","Number","activeIndex","position","size","showAddButton","Boolean","default","editable","animation","headerPadding","emits","setup","emit","slots","prefixCls","wrapperRef","listRef","tabsRef","activeTabRef","value","inkRef","mergedEditable","includes","isScroll","wrapperLength","maxOffset","tabEndOffsets","offset","getWrapperLength","_a","_b","_c","offsetHeight","offsetWidth","getMaxOffset","getTabEndOffsets","map","item","ele","key","offsetTop","offsetLeft","getSize","isOverflow","isInView","index","getNextOffset","getValidOffset","offset2","handleClick","ev","handleDelete","handleButtonClick","handleResize","$forceUpdate","current","pre","offsetIndex","length","renderAddBtn","cls","listCls","listStyle","tab","component","$el","_a2","title","call","extra"],"sources":["/www/wwwroot/admin/node_modules/@arco-design/web-vue/es/tabs/tabs-nav.js"],"sourcesContent":["import { defineComponent, toRefs, ref, computed, watch, nextTick, onMounted, createVNode } from \"vue\";\nimport { getTabListStyle } from \"./utils.js\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport TabsTab from \"./tabs-tab.js\";\nimport TabsButton from \"./tabs-button.js\";\nimport TabsNavInk from \"./tabs-nav-ink.js\";\nimport IconHover from \"../_components/icon-hover.js\";\nimport IconPlus from \"../icon/icon-plus/index.js\";\nimport ResizeObserver from \"../_components/resize-observer.js\";\nimport { isUndefined } from \"../_utils/is.js\";\nvar TabsNav = defineComponent({\n  name: \"TabsNav\",\n  props: {\n    tabs: {\n      type: Array,\n      required: true\n    },\n    direction: {\n      type: String,\n      required: true\n    },\n    type: {\n      type: String,\n      required: true\n    },\n    activeKey: {\n      type: [String, Number]\n    },\n    activeIndex: {\n      type: Number,\n      required: true\n    },\n    position: {\n      type: String,\n      required: true\n    },\n    size: {\n      type: String,\n      required: true\n    },\n    showAddButton: {\n      type: Boolean,\n      default: false\n    },\n    editable: {\n      type: Boolean,\n      default: false\n    },\n    animation: {\n      type: Boolean,\n      required: true\n    },\n    headerPadding: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: [\"click\", \"add\", \"delete\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const {\n      tabs,\n      activeKey,\n      activeIndex,\n      direction\n    } = toRefs(props);\n    const prefixCls = getPrefixCls(\"tabs-nav\");\n    const wrapperRef = ref();\n    const listRef = ref();\n    const tabsRef = ref({});\n    const activeTabRef = computed(() => {\n      if (!isUndefined(activeKey.value)) {\n        return tabsRef.value[activeKey.value];\n      }\n      return void 0;\n    });\n    const inkRef = ref();\n    const mergedEditable = computed(() => props.editable && [\"line\", \"card\", \"card-gutter\"].includes(props.type));\n    const isScroll = ref(false);\n    const wrapperLength = ref(0);\n    const maxOffset = ref(0);\n    const tabEndOffsets = ref([]);\n    const offset = ref(0);\n    const getWrapperLength = () => {\n      var _a, _b, _c;\n      return (_c = direction.value === \"vertical\" ? (_a = wrapperRef.value) == null ? void 0 : _a.offsetHeight : (_b = wrapperRef.value) == null ? void 0 : _b.offsetWidth) != null ? _c : 0;\n    };\n    const getMaxOffset = () => {\n      if (!listRef.value || !wrapperRef.value) {\n        return 0;\n      }\n      if (direction.value === \"vertical\") {\n        return listRef.value.offsetHeight - wrapperRef.value.offsetHeight;\n      }\n      return listRef.value.offsetWidth - wrapperRef.value.offsetWidth;\n    };\n    const getTabEndOffsets = () => {\n      return tabs.value.map((item) => {\n        const ele = tabsRef.value[item.key];\n        if (direction.value === \"vertical\") {\n          return ele.offsetTop + ele.offsetHeight;\n        }\n        return ele.offsetLeft + ele.offsetWidth;\n      });\n    };\n    const getSize = () => {\n      isScroll.value = isOverflow();\n      if (isScroll.value) {\n        wrapperLength.value = getWrapperLength();\n        maxOffset.value = getMaxOffset();\n        tabEndOffsets.value = getTabEndOffsets();\n        if (offset.value > maxOffset.value) {\n          offset.value = maxOffset.value;\n        }\n      } else {\n        offset.value = 0;\n      }\n    };\n    const isOverflow = () => {\n      if (wrapperRef.value && listRef.value) {\n        return props.direction === \"vertical\" ? listRef.value.offsetHeight > wrapperRef.value.offsetHeight : listRef.value.offsetWidth > wrapperRef.value.offsetWidth;\n      }\n      return false;\n    };\n    const isInView = (index) => {\n      var _a;\n      return ((_a = tabEndOffsets.value[index - 1]) != null ? _a : 0) >= offset.value && tabEndOffsets.value[index] <= offset.value + wrapperLength.value;\n    };\n    const getNextOffset = (type) => {\n      if (!wrapperRef.value) {\n        return 0;\n      }\n      if (props.type === \"capsule\") {\n        return type === \"previous\" ? offset.value + wrapperLength.value : offset.value - wrapperLength.value;\n      }\n      return type === \"previous\" ? offset.value - wrapperLength.value : offset.value + wrapperLength.value;\n    };\n    const getValidOffset = (offset2) => {\n      if (!wrapperRef.value || !listRef.value || offset2 < 0) {\n        return 0;\n      }\n      if (offset2 > maxOffset.value) {\n        return maxOffset.value;\n      }\n      return offset2;\n    };\n    const handleClick = (key, ev) => {\n      emit(\"click\", key, ev);\n    };\n    const handleDelete = (key, ev) => {\n      emit(\"delete\", key, ev);\n    };\n    const handleButtonClick = (type) => {\n      offset.value = getValidOffset(getNextOffset(type));\n    };\n    const handleResize = () => {\n      getSize();\n      if (inkRef.value) {\n        inkRef.value.$forceUpdate();\n      }\n    };\n    watch(tabs, () => {\n      nextTick(() => {\n        getSize();\n      });\n    });\n    watch(activeIndex, (current, pre) => {\n      nextTick(() => {\n        var _a;\n        if (isScroll.value) {\n          if (current >= pre) {\n            const offsetIndex = current < tabEndOffsets.value.length - 1 ? current + 1 : current;\n            if (!isInView(offsetIndex)) {\n              offset.value = tabEndOffsets.value[offsetIndex] - wrapperLength.value;\n            }\n          } else {\n            const offsetIndex = current > 0 ? current - 1 : current;\n            if (!isInView(offsetIndex)) {\n              offset.value = (_a = tabEndOffsets.value[offsetIndex - 1]) != null ? _a : 0;\n            }\n          }\n        }\n      });\n    });\n    onMounted(() => {\n      getSize();\n    });\n    const renderAddBtn = () => {\n      if (!mergedEditable.value || !props.showAddButton) {\n        return null;\n      }\n      return createVNode(\"div\", {\n        \"class\": `${prefixCls}-add-btn`,\n        \"onClick\": (ev) => emit(\"add\", ev)\n      }, [createVNode(IconHover, null, {\n        default: () => [createVNode(IconPlus, null, null)]\n      })]);\n    };\n    const cls = computed(() => [prefixCls, `${prefixCls}-${props.direction}`, `${prefixCls}-${props.position}`, `${prefixCls}-size-${props.size}`, `${prefixCls}-type-${props.type}`]);\n    const listCls = computed(() => [`${prefixCls}-tab-list`, {\n      [`${prefixCls}-tab-list-no-padding`]: !props.headerPadding && [\"line\", \"text\"].includes(props.type) && props.direction === \"horizontal\"\n    }]);\n    const listStyle = computed(() => getTabListStyle({\n      direction: props.direction,\n      type: props.type,\n      offset: offset.value\n    }));\n    return () => {\n      var _a;\n      return createVNode(\"div\", {\n        \"class\": cls.value\n      }, [isScroll.value && createVNode(TabsButton, {\n        \"type\": \"previous\",\n        \"direction\": props.direction,\n        \"disabled\": offset.value <= 0,\n        \"onClick\": handleButtonClick\n      }, null), createVNode(ResizeObserver, {\n        \"onResize\": () => getSize()\n      }, {\n        default: () => [createVNode(\"div\", {\n          \"class\": `${prefixCls}-tab`,\n          \"ref\": wrapperRef\n        }, [createVNode(ResizeObserver, {\n          \"onResize\": handleResize\n        }, {\n          default: () => [createVNode(\"div\", {\n            \"ref\": listRef,\n            \"class\": listCls.value,\n            \"style\": listStyle.value\n          }, [props.tabs.map((tab, index) => createVNode(TabsTab, {\n            \"key\": tab.key,\n            \"ref\": (component) => {\n              if (component == null ? void 0 : component.$el) {\n                tabsRef.value[tab.key] = component.$el;\n              }\n            },\n            \"active\": tab.key === activeKey.value,\n            \"tab\": tab,\n            \"editable\": props.editable,\n            \"onClick\": handleClick,\n            \"onDelete\": handleDelete\n          }, {\n            default: () => {\n              var _a2, _b, _c;\n              return [(_c = (_b = (_a2 = tab.slots).title) == null ? void 0 : _b.call(_a2)) != null ? _c : tab.title];\n            }\n          })), props.type === \"line\" && createVNode(TabsNavInk, {\n            \"ref\": inkRef,\n            \"activeTabRef\": activeTabRef.value,\n            \"direction\": props.direction,\n            \"disabled\": false,\n            \"animation\": props.animation\n          }, null)])]\n        }), !isScroll.value && renderAddBtn()])]\n      }), isScroll.value && createVNode(TabsButton, {\n        \"type\": \"next\",\n        \"direction\": props.direction,\n        \"disabled\": offset.value >= maxOffset.value,\n        \"onClick\": handleButtonClick\n      }, null), createVNode(\"div\", {\n        \"class\": `${prefixCls}-extra`\n      }, [isScroll.value && renderAddBtn(), (_a = slots.extra) == null ? void 0 : _a.call(slots)])]);\n    };\n  }\n});\nexport { TabsNav as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}