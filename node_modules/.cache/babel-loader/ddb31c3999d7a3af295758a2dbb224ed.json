{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport { ref, computed } from \"vue\";\n\nconst useExpand = ({\n  expandedKeys,\n  defaultExpandedKeys,\n  defaultExpandAllRows,\n  expandable,\n  allRowKeys,\n  emit\n}) => {\n  const getDefaultExpandedRowKeys = () => {\n    var _a, _b;\n\n    if (defaultExpandedKeys.value) {\n      return defaultExpandedKeys.value;\n    }\n\n    if ((_a = expandable.value) == null ? void 0 : _a.defaultExpandedRowKeys) {\n      return expandable.value.defaultExpandedRowKeys;\n    }\n\n    if (defaultExpandAllRows.value || ((_b = expandable.value) == null ? void 0 : _b.defaultExpandAllRows)) {\n      return [...allRowKeys.value];\n    }\n\n    return [];\n  };\n\n  const _expandedRowKeys = ref(getDefaultExpandedRowKeys());\n\n  const expandedRowKeys = computed(() => {\n    var _a, _b, _c;\n\n    return (_c = (_b = expandedKeys.value) != null ? _b : (_a = expandable.value) == null ? void 0 : _a.expandedRowKeys) != null ? _c : _expandedRowKeys.value;\n  });\n\n  const handleExpand = (rowKey, record) => {\n    const isExpanded = expandedRowKeys.value.includes(rowKey);\n    const newExpandedRowKeys = isExpanded ? expandedRowKeys.value.filter(key => rowKey !== key) : expandedRowKeys.value.concat(rowKey);\n    _expandedRowKeys.value = newExpandedRowKeys;\n    emit(\"expand\", rowKey, record);\n    emit(\"expandedChange\", newExpandedRowKeys);\n    emit(\"update:expandedKeys\", newExpandedRowKeys);\n  };\n\n  const expand = (rowKey, expanded = true) => {\n    const _rowKeys = [].concat(rowKey);\n\n    const newExpandedRowKeys = expanded ? expandedRowKeys.value.concat(_rowKeys) : expandedRowKeys.value.filter(key => !_rowKeys.includes(key));\n    _expandedRowKeys.value = newExpandedRowKeys;\n    emit(\"expandedChange\", newExpandedRowKeys);\n    emit(\"update:expandedKeys\", newExpandedRowKeys);\n  };\n\n  const expandAll = (expanded = true) => {\n    const newExpandedRowKeys = expanded ? [...allRowKeys.value] : [];\n    _expandedRowKeys.value = newExpandedRowKeys;\n    emit(\"expandedChange\", newExpandedRowKeys);\n    emit(\"update:expandedKeys\", newExpandedRowKeys);\n  };\n\n  return {\n    expandedRowKeys,\n    handleExpand,\n    expand,\n    expandAll\n  };\n};\n\nexport { useExpand };","map":{"version":3,"names":["ref","computed","useExpand","expandedKeys","defaultExpandedKeys","defaultExpandAllRows","expandable","allRowKeys","emit","getDefaultExpandedRowKeys","_a","_b","value","defaultExpandedRowKeys","_expandedRowKeys","expandedRowKeys","_c","handleExpand","rowKey","record","isExpanded","includes","newExpandedRowKeys","filter","key","concat","expand","expanded","_rowKeys","expandAll"],"sources":["/www/wwwroot/admin/node_modules/@arco-design/web-vue/es/table/hooks/use-expand.js"],"sourcesContent":["import { ref, computed } from \"vue\";\nconst useExpand = ({\n  expandedKeys,\n  defaultExpandedKeys,\n  defaultExpandAllRows,\n  expandable,\n  allRowKeys,\n  emit\n}) => {\n  const getDefaultExpandedRowKeys = () => {\n    var _a, _b;\n    if (defaultExpandedKeys.value) {\n      return defaultExpandedKeys.value;\n    }\n    if ((_a = expandable.value) == null ? void 0 : _a.defaultExpandedRowKeys) {\n      return expandable.value.defaultExpandedRowKeys;\n    }\n    if (defaultExpandAllRows.value || ((_b = expandable.value) == null ? void 0 : _b.defaultExpandAllRows)) {\n      return [...allRowKeys.value];\n    }\n    return [];\n  };\n  const _expandedRowKeys = ref(getDefaultExpandedRowKeys());\n  const expandedRowKeys = computed(() => {\n    var _a, _b, _c;\n    return (_c = (_b = expandedKeys.value) != null ? _b : (_a = expandable.value) == null ? void 0 : _a.expandedRowKeys) != null ? _c : _expandedRowKeys.value;\n  });\n  const handleExpand = (rowKey, record) => {\n    const isExpanded = expandedRowKeys.value.includes(rowKey);\n    const newExpandedRowKeys = isExpanded ? expandedRowKeys.value.filter((key) => rowKey !== key) : expandedRowKeys.value.concat(rowKey);\n    _expandedRowKeys.value = newExpandedRowKeys;\n    emit(\"expand\", rowKey, record);\n    emit(\"expandedChange\", newExpandedRowKeys);\n    emit(\"update:expandedKeys\", newExpandedRowKeys);\n  };\n  const expand = (rowKey, expanded = true) => {\n    const _rowKeys = [].concat(rowKey);\n    const newExpandedRowKeys = expanded ? expandedRowKeys.value.concat(_rowKeys) : expandedRowKeys.value.filter((key) => !_rowKeys.includes(key));\n    _expandedRowKeys.value = newExpandedRowKeys;\n    emit(\"expandedChange\", newExpandedRowKeys);\n    emit(\"update:expandedKeys\", newExpandedRowKeys);\n  };\n  const expandAll = (expanded = true) => {\n    const newExpandedRowKeys = expanded ? [...allRowKeys.value] : [];\n    _expandedRowKeys.value = newExpandedRowKeys;\n    emit(\"expandedChange\", newExpandedRowKeys);\n    emit(\"update:expandedKeys\", newExpandedRowKeys);\n  };\n  return {\n    expandedRowKeys,\n    handleExpand,\n    expand,\n    expandAll\n  };\n};\nexport { useExpand };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}