{"ast":null,"code":"var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\nimport { reactive, render, ref, createVNode } from \"vue\";\nimport { MESSAGE_TYPES } from \"../_utils/constant.js\";\nimport { getOverlay } from \"../_utils/dom.js\";\nimport { isString, isUndefined, isFunction } from \"../_utils/is.js\";\nimport NotificationList from \"./notification-list.js\";\n\nclass NotificationManger {\n  constructor(config, appContext) {\n    this.notificationCount = 0;\n\n    this.add = config2 => {\n      var _a;\n\n      this.notificationCount++;\n      const id = (_a = config2.id) != null ? _a : `__arco_notification_${this.notificationCount}`;\n\n      if (this.notificationIds.has(id)) {\n        return this.update(id, config2);\n      }\n\n      const notification2 = reactive(__spreadValues({\n        id\n      }, config2));\n      this.notifications.value.push(notification2);\n      this.notificationIds.add(id);\n      return {\n        close: () => this.remove(id)\n      };\n    };\n\n    this.update = (id, config2) => {\n      for (let i = 0; i < this.notifications.value.length; i++) {\n        if (this.notifications.value[i].id === id) {\n          const resetOnUpdate = !isUndefined(config2.duration);\n          Object.assign(this.notifications.value[i], __spreadProps(__spreadValues({}, config2), {\n            id,\n            resetOnUpdate\n          }));\n          break;\n        }\n      }\n\n      return {\n        close: () => this.remove(id)\n      };\n    };\n\n    this.remove = id => {\n      for (let i = 0; i < this.notifications.value.length; i++) {\n        const item = this.notifications.value[i];\n\n        if (item.id === id) {\n          if (isFunction(item.onClose)) {\n            item.onClose(id);\n          }\n\n          this.notifications.value.splice(i, 1);\n          this.notificationIds.delete(id);\n          break;\n        }\n      }\n    };\n\n    this.clear = () => {\n      this.notifications.value.splice(0);\n    };\n\n    this.destroy = () => {\n      if (this.notifications.value.length === 0 && this.container) {\n        render(null, this.container);\n        document.body.removeChild(this.container);\n        this.container = null;\n        notificationInstance[this.position] = void 0;\n      }\n    };\n\n    const {\n      position = \"topRight\"\n    } = config;\n    this.container = getOverlay(\"notification\");\n    this.notificationIds = new Set();\n    this.notifications = ref([]);\n    this.position = position;\n    const vm = createVNode(NotificationList, {\n      notifications: this.notifications.value,\n      position,\n      onClose: this.remove,\n      onAfterClose: this.destroy\n    });\n\n    if (appContext != null ? appContext : Notification._context) {\n      vm.appContext = appContext != null ? appContext : Notification._context;\n    }\n\n    render(vm, this.container);\n    document.body.appendChild(this.container);\n  }\n\n}\n\nconst notificationInstance = {};\nconst notification = MESSAGE_TYPES.reduce((pre, value) => {\n  pre[value] = (config, appContext) => {\n    if (isString(config)) {\n      config = {\n        content: config\n      };\n    }\n\n    const _config = __spreadValues({\n      type: value\n    }, config);\n\n    const {\n      position = \"topRight\"\n    } = _config;\n\n    if (!notificationInstance[position]) {\n      notificationInstance[position] = new NotificationManger(_config, appContext);\n    }\n\n    return notificationInstance[position].add(_config);\n  };\n\n  return pre;\n}, {});\n\nnotification.clear = position => {\n  var _a;\n\n  if (position) {\n    (_a = notificationInstance[position]) == null ? void 0 : _a.clear();\n  } else {\n    Object.values(notificationInstance).forEach(item => item == null ? void 0 : item.clear());\n  }\n};\n\nconst Notification = __spreadProps(__spreadValues({}, notification), {\n  install: app => {\n    const _notification = {\n      clear: notification.clear\n    };\n\n    for (const key of MESSAGE_TYPES) {\n      _notification[key] = (config, appContext = app._context) => notification[key](config, appContext);\n    }\n\n    app.config.globalProperties.$notification = _notification;\n  },\n  _context: null\n});\n\nexport { Notification as default };","map":{"version":3,"names":["__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","reactive","render","ref","createVNode","MESSAGE_TYPES","getOverlay","isString","isUndefined","isFunction","NotificationList","NotificationManger","constructor","config","appContext","notificationCount","add","config2","_a","id","notificationIds","has","update","notification2","notifications","push","close","remove","i","length","resetOnUpdate","duration","assign","item","onClose","splice","delete","clear","destroy","container","document","body","removeChild","notificationInstance","position","Set","vm","onAfterClose","Notification","_context","appendChild","notification","reduce","pre","content","_config","type","values","forEach","install","app","_notification","globalProperties","$notification","default"],"sources":["/www/wwwroot/admin/node_modules/@arco-design/web-vue/es/notification/index.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nimport { reactive, render, ref, createVNode } from \"vue\";\nimport { MESSAGE_TYPES } from \"../_utils/constant.js\";\nimport { getOverlay } from \"../_utils/dom.js\";\nimport { isString, isUndefined, isFunction } from \"../_utils/is.js\";\nimport NotificationList from \"./notification-list.js\";\nclass NotificationManger {\n  constructor(config, appContext) {\n    this.notificationCount = 0;\n    this.add = (config2) => {\n      var _a;\n      this.notificationCount++;\n      const id = (_a = config2.id) != null ? _a : `__arco_notification_${this.notificationCount}`;\n      if (this.notificationIds.has(id)) {\n        return this.update(id, config2);\n      }\n      const notification2 = reactive(__spreadValues({ id }, config2));\n      this.notifications.value.push(notification2);\n      this.notificationIds.add(id);\n      return {\n        close: () => this.remove(id)\n      };\n    };\n    this.update = (id, config2) => {\n      for (let i = 0; i < this.notifications.value.length; i++) {\n        if (this.notifications.value[i].id === id) {\n          const resetOnUpdate = !isUndefined(config2.duration);\n          Object.assign(this.notifications.value[i], __spreadProps(__spreadValues({}, config2), {\n            id,\n            resetOnUpdate\n          }));\n          break;\n        }\n      }\n      return {\n        close: () => this.remove(id)\n      };\n    };\n    this.remove = (id) => {\n      for (let i = 0; i < this.notifications.value.length; i++) {\n        const item = this.notifications.value[i];\n        if (item.id === id) {\n          if (isFunction(item.onClose)) {\n            item.onClose(id);\n          }\n          this.notifications.value.splice(i, 1);\n          this.notificationIds.delete(id);\n          break;\n        }\n      }\n    };\n    this.clear = () => {\n      this.notifications.value.splice(0);\n    };\n    this.destroy = () => {\n      if (this.notifications.value.length === 0 && this.container) {\n        render(null, this.container);\n        document.body.removeChild(this.container);\n        this.container = null;\n        notificationInstance[this.position] = void 0;\n      }\n    };\n    const { position = \"topRight\" } = config;\n    this.container = getOverlay(\"notification\");\n    this.notificationIds = new Set();\n    this.notifications = ref([]);\n    this.position = position;\n    const vm = createVNode(NotificationList, {\n      notifications: this.notifications.value,\n      position,\n      onClose: this.remove,\n      onAfterClose: this.destroy\n    });\n    if (appContext != null ? appContext : Notification._context) {\n      vm.appContext = appContext != null ? appContext : Notification._context;\n    }\n    render(vm, this.container);\n    document.body.appendChild(this.container);\n  }\n}\nconst notificationInstance = {};\nconst notification = MESSAGE_TYPES.reduce((pre, value) => {\n  pre[value] = (config, appContext) => {\n    if (isString(config)) {\n      config = { content: config };\n    }\n    const _config = __spreadValues({ type: value }, config);\n    const { position = \"topRight\" } = _config;\n    if (!notificationInstance[position]) {\n      notificationInstance[position] = new NotificationManger(_config, appContext);\n    }\n    return notificationInstance[position].add(_config);\n  };\n  return pre;\n}, {});\nnotification.clear = (position) => {\n  var _a;\n  if (position) {\n    (_a = notificationInstance[position]) == null ? void 0 : _a.clear();\n  } else {\n    Object.values(notificationInstance).forEach((item) => item == null ? void 0 : item.clear());\n  }\n};\nconst Notification = __spreadProps(__spreadValues({}, notification), {\n  install: (app) => {\n    const _notification = {\n      clear: notification.clear\n    };\n    for (const key of MESSAGE_TYPES) {\n      _notification[key] = (config, appContext = app._context) => notification[key](config, appContext);\n    }\n    app.config.globalProperties.$notification = _notification;\n  },\n  _context: null\n});\nexport { Notification as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}