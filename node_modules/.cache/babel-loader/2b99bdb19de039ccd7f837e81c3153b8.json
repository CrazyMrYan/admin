{"ast":null,"code":"import { defineComponent, toRefs, getCurrentInstance, inject, reactive, provide, ref, watch, onBeforeUnmount } from \"vue\";\nimport { tableInjectionKey, tableColumnInjectionKey } from \"./context.js\";\nimport { useChildrenComponents } from \"../_hooks/use-children-components.js\";\nimport { usePureProp } from \"../_hooks/use-pure-prop.js\";\nvar TableColumn = defineComponent({\n  name: \"TableColumn\",\n  props: {\n    dataIndex: String,\n    title: String,\n    width: Number,\n    align: {\n      type: String\n    },\n    fixed: {\n      type: String\n    },\n    ellipsis: {\n      type: Boolean,\n      default: false\n    },\n    sortable: {\n      type: Object,\n      default: void 0\n    },\n    filterable: {\n      type: Object,\n      default: void 0\n    },\n    cellStyle: {\n      type: Object\n    },\n    headerCellStyle: {\n      type: Object\n    },\n    bodyCellStyle: {\n      type: [Object, Function]\n    },\n    summaryCellStyle: {\n      type: [Object, Function]\n    },\n    index: {\n      type: Number\n    },\n    tooltip: {\n      type: [Boolean, Object],\n      default: false\n    }\n  },\n\n  setup(props, {\n    slots\n  }) {\n    var _a;\n\n    const {\n      dataIndex,\n      title,\n      width,\n      align,\n      fixed,\n      ellipsis,\n      index\n    } = toRefs(props);\n    const sortable = usePureProp(props, \"sortable\");\n    const filterable = usePureProp(props, \"filterable\");\n    const cellStyle = usePureProp(props, \"cellStyle\");\n    const headerCellStyle = usePureProp(props, \"headerCellStyle\");\n    const bodyCellStyle = usePureProp(props, \"bodyCellStyle\");\n    const summaryCellStyle = usePureProp(props, \"summaryCellStyle\");\n    const tooltip = usePureProp(props, \"tooltip\");\n    const instance = getCurrentInstance();\n    const tableCtx = inject(tableInjectionKey, {});\n    const tableColumnCtx = inject(tableColumnInjectionKey, void 0);\n    const {\n      children,\n      components\n    } = useChildrenComponents(\"TableColumn\");\n    const childrenColumnMap = reactive(new Map());\n\n    const addChild = (id, data) => {\n      childrenColumnMap.set(id, data);\n    };\n\n    const removeChild = id => {\n      childrenColumnMap.delete(id);\n    };\n\n    provide(tableColumnInjectionKey, {\n      addChild,\n      removeChild\n    });\n    const childrenColumns = ref();\n    watch([components, childrenColumnMap], ([components2, childrenColumnMap2]) => {\n      if (components2.length > 0) {\n        const columns = [];\n        components2.forEach(id => {\n          const column2 = childrenColumnMap2.get(id);\n          if (column2) columns.push(column2);\n        });\n        childrenColumns.value = columns;\n      } else {\n        childrenColumns.value = void 0;\n      }\n    });\n    const column = reactive({\n      dataIndex,\n      title,\n      width,\n      align,\n      fixed,\n      ellipsis,\n      sortable,\n      filterable,\n      cellStyle,\n      headerCellStyle,\n      bodyCellStyle,\n      summaryCellStyle,\n      index,\n      tooltip,\n      children: childrenColumns,\n      slots\n    });\n\n    if (instance) {\n      if (tableColumnCtx) {\n        tableColumnCtx.addChild(instance.uid, column);\n      } else {\n        (_a = tableCtx.addColumn) == null ? void 0 : _a.call(tableCtx, instance.uid, column);\n      }\n    }\n\n    onBeforeUnmount(() => {\n      var _a2;\n\n      if (instance) {\n        if (tableColumnCtx) {\n          tableColumnCtx.removeChild(instance.uid);\n        } else {\n          (_a2 = tableCtx.removeColumn) == null ? void 0 : _a2.call(tableCtx, instance.uid);\n        }\n      }\n    });\n    return () => {\n      var _a2;\n\n      children.value = (_a2 = slots.default) == null ? void 0 : _a2.call(slots);\n      return children.value;\n    };\n  }\n\n});\nexport { TableColumn as default };","map":{"version":3,"names":["defineComponent","toRefs","getCurrentInstance","inject","reactive","provide","ref","watch","onBeforeUnmount","tableInjectionKey","tableColumnInjectionKey","useChildrenComponents","usePureProp","TableColumn","name","props","dataIndex","String","title","width","Number","align","type","fixed","ellipsis","Boolean","default","sortable","Object","filterable","cellStyle","headerCellStyle","bodyCellStyle","Function","summaryCellStyle","index","tooltip","setup","slots","_a","instance","tableCtx","tableColumnCtx","children","components","childrenColumnMap","Map","addChild","id","data","set","removeChild","delete","childrenColumns","components2","childrenColumnMap2","length","columns","forEach","column2","get","push","value","column","uid","addColumn","call","_a2","removeColumn"],"sources":["/www/wwwroot/admin/node_modules/@arco-design/web-vue/es/table/table-column.js"],"sourcesContent":["import { defineComponent, toRefs, getCurrentInstance, inject, reactive, provide, ref, watch, onBeforeUnmount } from \"vue\";\nimport { tableInjectionKey, tableColumnInjectionKey } from \"./context.js\";\nimport { useChildrenComponents } from \"../_hooks/use-children-components.js\";\nimport { usePureProp } from \"../_hooks/use-pure-prop.js\";\nvar TableColumn = defineComponent({\n  name: \"TableColumn\",\n  props: {\n    dataIndex: String,\n    title: String,\n    width: Number,\n    align: {\n      type: String\n    },\n    fixed: {\n      type: String\n    },\n    ellipsis: {\n      type: Boolean,\n      default: false\n    },\n    sortable: {\n      type: Object,\n      default: void 0\n    },\n    filterable: {\n      type: Object,\n      default: void 0\n    },\n    cellStyle: {\n      type: Object\n    },\n    headerCellStyle: {\n      type: Object\n    },\n    bodyCellStyle: {\n      type: [Object, Function]\n    },\n    summaryCellStyle: {\n      type: [Object, Function]\n    },\n    index: {\n      type: Number\n    },\n    tooltip: {\n      type: [Boolean, Object],\n      default: false\n    }\n  },\n  setup(props, {\n    slots\n  }) {\n    var _a;\n    const {\n      dataIndex,\n      title,\n      width,\n      align,\n      fixed,\n      ellipsis,\n      index\n    } = toRefs(props);\n    const sortable = usePureProp(props, \"sortable\");\n    const filterable = usePureProp(props, \"filterable\");\n    const cellStyle = usePureProp(props, \"cellStyle\");\n    const headerCellStyle = usePureProp(props, \"headerCellStyle\");\n    const bodyCellStyle = usePureProp(props, \"bodyCellStyle\");\n    const summaryCellStyle = usePureProp(props, \"summaryCellStyle\");\n    const tooltip = usePureProp(props, \"tooltip\");\n    const instance = getCurrentInstance();\n    const tableCtx = inject(tableInjectionKey, {});\n    const tableColumnCtx = inject(tableColumnInjectionKey, void 0);\n    const {\n      children,\n      components\n    } = useChildrenComponents(\"TableColumn\");\n    const childrenColumnMap = reactive(new Map());\n    const addChild = (id, data) => {\n      childrenColumnMap.set(id, data);\n    };\n    const removeChild = (id) => {\n      childrenColumnMap.delete(id);\n    };\n    provide(tableColumnInjectionKey, {\n      addChild,\n      removeChild\n    });\n    const childrenColumns = ref();\n    watch([components, childrenColumnMap], ([components2, childrenColumnMap2]) => {\n      if (components2.length > 0) {\n        const columns = [];\n        components2.forEach((id) => {\n          const column2 = childrenColumnMap2.get(id);\n          if (column2)\n            columns.push(column2);\n        });\n        childrenColumns.value = columns;\n      } else {\n        childrenColumns.value = void 0;\n      }\n    });\n    const column = reactive({\n      dataIndex,\n      title,\n      width,\n      align,\n      fixed,\n      ellipsis,\n      sortable,\n      filterable,\n      cellStyle,\n      headerCellStyle,\n      bodyCellStyle,\n      summaryCellStyle,\n      index,\n      tooltip,\n      children: childrenColumns,\n      slots\n    });\n    if (instance) {\n      if (tableColumnCtx) {\n        tableColumnCtx.addChild(instance.uid, column);\n      } else {\n        (_a = tableCtx.addColumn) == null ? void 0 : _a.call(tableCtx, instance.uid, column);\n      }\n    }\n    onBeforeUnmount(() => {\n      var _a2;\n      if (instance) {\n        if (tableColumnCtx) {\n          tableColumnCtx.removeChild(instance.uid);\n        } else {\n          (_a2 = tableCtx.removeColumn) == null ? void 0 : _a2.call(tableCtx, instance.uid);\n        }\n      }\n    });\n    return () => {\n      var _a2;\n      children.value = (_a2 = slots.default) == null ? void 0 : _a2.call(slots);\n      return children.value;\n    };\n  }\n});\nexport { TableColumn as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}