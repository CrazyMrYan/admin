{"ast":null,"code":"import { ref, reactive } from \"vue\";\nimport { on, off } from \"../../_utils/dom.js\";\n\nconst useColumnResize = (thRefs, emit) => {\n  const resizingColumn = ref(\"\");\n  const columnWidth = reactive({});\n\n  const handleThMouseDown = (dataIndex, ev) => {\n    ev.preventDefault();\n    resizingColumn.value = dataIndex;\n    on(window, \"mousemove\", handleThMouseMoving);\n    on(window, \"mouseup\", handleThMouseUp);\n    on(window, \"contextmenu\", handleThMouseUp);\n  };\n\n  const handleThMouseUp = () => {\n    resizingColumn.value = \"\";\n    off(window, \"mousemove\", handleThMouseMoving);\n    off(window, \"mouseup\", handleThMouseUp);\n    off(window, \"contextmenu\", handleThMouseUp);\n  };\n\n  const handleThMouseMoving = ev => {\n    const element = thRefs.value[resizingColumn.value];\n\n    if (element) {\n      const {\n        clientX\n      } = ev;\n      const {\n        x\n      } = element.getBoundingClientRect();\n      let width = Math.ceil(clientX - x);\n\n      if (width < 40) {\n        width = 40;\n      }\n\n      columnWidth[resizingColumn.value] = width;\n      emit(\"columnResize\", resizingColumn.value, width);\n    }\n  };\n\n  return {\n    resizingColumn,\n    columnWidth,\n    handleThMouseDown,\n    handleThMouseUp\n  };\n};\n\nexport { useColumnResize };","map":{"version":3,"names":["ref","reactive","on","off","useColumnResize","thRefs","emit","resizingColumn","columnWidth","handleThMouseDown","dataIndex","ev","preventDefault","value","window","handleThMouseMoving","handleThMouseUp","element","clientX","x","getBoundingClientRect","width","Math","ceil"],"sources":["/www/wwwroot/admin/node_modules/@arco-design/web-vue/es/table/hooks/use-column-resize.js"],"sourcesContent":["import { ref, reactive } from \"vue\";\nimport { on, off } from \"../../_utils/dom.js\";\nconst useColumnResize = (thRefs, emit) => {\n  const resizingColumn = ref(\"\");\n  const columnWidth = reactive({});\n  const handleThMouseDown = (dataIndex, ev) => {\n    ev.preventDefault();\n    resizingColumn.value = dataIndex;\n    on(window, \"mousemove\", handleThMouseMoving);\n    on(window, \"mouseup\", handleThMouseUp);\n    on(window, \"contextmenu\", handleThMouseUp);\n  };\n  const handleThMouseUp = () => {\n    resizingColumn.value = \"\";\n    off(window, \"mousemove\", handleThMouseMoving);\n    off(window, \"mouseup\", handleThMouseUp);\n    off(window, \"contextmenu\", handleThMouseUp);\n  };\n  const handleThMouseMoving = (ev) => {\n    const element = thRefs.value[resizingColumn.value];\n    if (element) {\n      const { clientX } = ev;\n      const { x } = element.getBoundingClientRect();\n      let width = Math.ceil(clientX - x);\n      if (width < 40) {\n        width = 40;\n      }\n      columnWidth[resizingColumn.value] = width;\n      emit(\"columnResize\", resizingColumn.value, width);\n    }\n  };\n  return {\n    resizingColumn,\n    columnWidth,\n    handleThMouseDown,\n    handleThMouseUp\n  };\n};\nexport { useColumnResize };\n"],"mappings":"AAAA,SAASA,GAAT,EAAcC,QAAd,QAA8B,KAA9B;AACA,SAASC,EAAT,EAAaC,GAAb,QAAwB,qBAAxB;;AACA,MAAMC,eAAe,GAAG,CAACC,MAAD,EAASC,IAAT,KAAkB;EACxC,MAAMC,cAAc,GAAGP,GAAG,CAAC,EAAD,CAA1B;EACA,MAAMQ,WAAW,GAAGP,QAAQ,CAAC,EAAD,CAA5B;;EACA,MAAMQ,iBAAiB,GAAG,CAACC,SAAD,EAAYC,EAAZ,KAAmB;IAC3CA,EAAE,CAACC,cAAH;IACAL,cAAc,CAACM,KAAf,GAAuBH,SAAvB;IACAR,EAAE,CAACY,MAAD,EAAS,WAAT,EAAsBC,mBAAtB,CAAF;IACAb,EAAE,CAACY,MAAD,EAAS,SAAT,EAAoBE,eAApB,CAAF;IACAd,EAAE,CAACY,MAAD,EAAS,aAAT,EAAwBE,eAAxB,CAAF;EACD,CAND;;EAOA,MAAMA,eAAe,GAAG,MAAM;IAC5BT,cAAc,CAACM,KAAf,GAAuB,EAAvB;IACAV,GAAG,CAACW,MAAD,EAAS,WAAT,EAAsBC,mBAAtB,CAAH;IACAZ,GAAG,CAACW,MAAD,EAAS,SAAT,EAAoBE,eAApB,CAAH;IACAb,GAAG,CAACW,MAAD,EAAS,aAAT,EAAwBE,eAAxB,CAAH;EACD,CALD;;EAMA,MAAMD,mBAAmB,GAAIJ,EAAD,IAAQ;IAClC,MAAMM,OAAO,GAAGZ,MAAM,CAACQ,KAAP,CAAaN,cAAc,CAACM,KAA5B,CAAhB;;IACA,IAAII,OAAJ,EAAa;MACX,MAAM;QAAEC;MAAF,IAAcP,EAApB;MACA,MAAM;QAAEQ;MAAF,IAAQF,OAAO,CAACG,qBAAR,EAAd;MACA,IAAIC,KAAK,GAAGC,IAAI,CAACC,IAAL,CAAUL,OAAO,GAAGC,CAApB,CAAZ;;MACA,IAAIE,KAAK,GAAG,EAAZ,EAAgB;QACdA,KAAK,GAAG,EAAR;MACD;;MACDb,WAAW,CAACD,cAAc,CAACM,KAAhB,CAAX,GAAoCQ,KAApC;MACAf,IAAI,CAAC,cAAD,EAAiBC,cAAc,CAACM,KAAhC,EAAuCQ,KAAvC,CAAJ;IACD;EACF,CAZD;;EAaA,OAAO;IACLd,cADK;IAELC,WAFK;IAGLC,iBAHK;IAILO;EAJK,CAAP;AAMD,CAnCD;;AAoCA,SAASZ,eAAT"},"metadata":{},"sourceType":"module"}