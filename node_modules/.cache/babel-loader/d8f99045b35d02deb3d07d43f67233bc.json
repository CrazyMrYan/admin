{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport { ref, computed, watch, onMounted, onUpdated } from \"vue\";\nimport { isUndefined } from \"../_utils/is.js\";\n\nconst useIndex = ({\n  itemRef,\n  selector,\n  index,\n  parentClassName\n}) => {\n  const _index = ref(-1);\n\n  const computedIndex = computed(() => {\n    var _a;\n\n    return (_a = index == null ? void 0 : index.value) != null ? _a : _index.value;\n  });\n  const parent = ref();\n\n  const getParent = () => {\n    var _a, _b, _c;\n\n    let parent2 = (_b = (_a = itemRef.value) == null ? void 0 : _a.parentElement) != null ? _b : void 0;\n\n    if (parentClassName) {\n      while (parent2 && !parent2.className.includes(parentClassName)) {\n        parent2 = (_c = parent2.parentElement) != null ? _c : void 0;\n      }\n    }\n\n    return parent2;\n  };\n\n  const getIndex = () => {\n    if (isUndefined(index == null ? void 0 : index.value) && parent.value && itemRef.value) {\n      const index2 = Array.from(parent.value.querySelectorAll(selector)).indexOf(itemRef.value);\n\n      if (index2 !== _index.value) {\n        _index.value = index2;\n      }\n    }\n  };\n\n  watch(itemRef, () => {\n    if (itemRef.value && !parent.value) {\n      parent.value = getParent();\n    }\n  });\n  onMounted(() => {\n    if (itemRef.value) {\n      parent.value = getParent();\n    }\n\n    getIndex();\n  });\n  onUpdated(() => getIndex());\n  return {\n    computedIndex\n  };\n};\n\nexport { useIndex };","map":{"version":3,"names":["ref","computed","watch","onMounted","onUpdated","isUndefined","useIndex","itemRef","selector","index","parentClassName","_index","computedIndex","_a","value","parent","getParent","_b","_c","parent2","parentElement","className","includes","getIndex","index2","Array","from","querySelectorAll","indexOf"],"sources":["/www/wwwroot/admin/node_modules/@arco-design/web-vue/es/_hooks/use-index.js"],"sourcesContent":["import { ref, computed, watch, onMounted, onUpdated } from \"vue\";\nimport { isUndefined } from \"../_utils/is.js\";\nconst useIndex = ({\n  itemRef,\n  selector,\n  index,\n  parentClassName\n}) => {\n  const _index = ref(-1);\n  const computedIndex = computed(() => {\n    var _a;\n    return (_a = index == null ? void 0 : index.value) != null ? _a : _index.value;\n  });\n  const parent = ref();\n  const getParent = () => {\n    var _a, _b, _c;\n    let parent2 = (_b = (_a = itemRef.value) == null ? void 0 : _a.parentElement) != null ? _b : void 0;\n    if (parentClassName) {\n      while (parent2 && !parent2.className.includes(parentClassName)) {\n        parent2 = (_c = parent2.parentElement) != null ? _c : void 0;\n      }\n    }\n    return parent2;\n  };\n  const getIndex = () => {\n    if (isUndefined(index == null ? void 0 : index.value) && parent.value && itemRef.value) {\n      const index2 = Array.from(parent.value.querySelectorAll(selector)).indexOf(itemRef.value);\n      if (index2 !== _index.value) {\n        _index.value = index2;\n      }\n    }\n  };\n  watch(itemRef, () => {\n    if (itemRef.value && !parent.value) {\n      parent.value = getParent();\n    }\n  });\n  onMounted(() => {\n    if (itemRef.value) {\n      parent.value = getParent();\n    }\n    getIndex();\n  });\n  onUpdated(() => getIndex());\n  return {\n    computedIndex\n  };\n};\nexport { useIndex };\n"],"mappings":";AAAA,SAASA,GAAT,EAAcC,QAAd,EAAwBC,KAAxB,EAA+BC,SAA/B,EAA0CC,SAA1C,QAA2D,KAA3D;AACA,SAASC,WAAT,QAA4B,iBAA5B;;AACA,MAAMC,QAAQ,GAAG,CAAC;EAChBC,OADgB;EAEhBC,QAFgB;EAGhBC,KAHgB;EAIhBC;AAJgB,CAAD,KAKX;EACJ,MAAMC,MAAM,GAAGX,GAAG,CAAC,CAAC,CAAF,CAAlB;;EACA,MAAMY,aAAa,GAAGX,QAAQ,CAAC,MAAM;IACnC,IAAIY,EAAJ;;IACA,OAAO,CAACA,EAAE,GAAGJ,KAAK,IAAI,IAAT,GAAgB,KAAK,CAArB,GAAyBA,KAAK,CAACK,KAArC,KAA+C,IAA/C,GAAsDD,EAAtD,GAA2DF,MAAM,CAACG,KAAzE;EACD,CAH6B,CAA9B;EAIA,MAAMC,MAAM,GAAGf,GAAG,EAAlB;;EACA,MAAMgB,SAAS,GAAG,MAAM;IACtB,IAAIH,EAAJ,EAAQI,EAAR,EAAYC,EAAZ;;IACA,IAAIC,OAAO,GAAG,CAACF,EAAE,GAAG,CAACJ,EAAE,GAAGN,OAAO,CAACO,KAAd,KAAwB,IAAxB,GAA+B,KAAK,CAApC,GAAwCD,EAAE,CAACO,aAAjD,KAAmE,IAAnE,GAA0EH,EAA1E,GAA+E,KAAK,CAAlG;;IACA,IAAIP,eAAJ,EAAqB;MACnB,OAAOS,OAAO,IAAI,CAACA,OAAO,CAACE,SAAR,CAAkBC,QAAlB,CAA2BZ,eAA3B,CAAnB,EAAgE;QAC9DS,OAAO,GAAG,CAACD,EAAE,GAAGC,OAAO,CAACC,aAAd,KAAgC,IAAhC,GAAuCF,EAAvC,GAA4C,KAAK,CAA3D;MACD;IACF;;IACD,OAAOC,OAAP;EACD,CATD;;EAUA,MAAMI,QAAQ,GAAG,MAAM;IACrB,IAAIlB,WAAW,CAACI,KAAK,IAAI,IAAT,GAAgB,KAAK,CAArB,GAAyBA,KAAK,CAACK,KAAhC,CAAX,IAAqDC,MAAM,CAACD,KAA5D,IAAqEP,OAAO,CAACO,KAAjF,EAAwF;MACtF,MAAMU,MAAM,GAAGC,KAAK,CAACC,IAAN,CAAWX,MAAM,CAACD,KAAP,CAAaa,gBAAb,CAA8BnB,QAA9B,CAAX,EAAoDoB,OAApD,CAA4DrB,OAAO,CAACO,KAApE,CAAf;;MACA,IAAIU,MAAM,KAAKb,MAAM,CAACG,KAAtB,EAA6B;QAC3BH,MAAM,CAACG,KAAP,GAAeU,MAAf;MACD;IACF;EACF,CAPD;;EAQAtB,KAAK,CAACK,OAAD,EAAU,MAAM;IACnB,IAAIA,OAAO,CAACO,KAAR,IAAiB,CAACC,MAAM,CAACD,KAA7B,EAAoC;MAClCC,MAAM,CAACD,KAAP,GAAeE,SAAS,EAAxB;IACD;EACF,CAJI,CAAL;EAKAb,SAAS,CAAC,MAAM;IACd,IAAII,OAAO,CAACO,KAAZ,EAAmB;MACjBC,MAAM,CAACD,KAAP,GAAeE,SAAS,EAAxB;IACD;;IACDO,QAAQ;EACT,CALQ,CAAT;EAMAnB,SAAS,CAAC,MAAMmB,QAAQ,EAAf,CAAT;EACA,OAAO;IACLX;EADK,CAAP;AAGD,CA7CD;;AA8CA,SAASN,QAAT"},"metadata":{},"sourceType":"module"}