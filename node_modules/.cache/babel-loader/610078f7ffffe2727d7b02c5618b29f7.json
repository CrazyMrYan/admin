{"ast":null,"code":"import { defineComponent, inject, ref, computed, resolveComponent, openBlock, createElementBlock, normalizeClass, renderSlot, createVNode, createCommentVNode, createElementVNode, normalizeStyle } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport Empty from \"../empty/index.js\";\nimport { dropdownInjectionKey } from \"./context.js\";\nimport { isNumber } from \"../_utils/is.js\";\nimport _export_sfc from \"../_virtual/plugin-vue_export-helper.js\";\n\nconst _sfc_main = defineComponent({\n  name: \"DropdownPanel\",\n  components: {\n    Empty\n  },\n  props: {\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    isEmpty: {\n      type: Boolean,\n      default: false\n    },\n    bottomOffset: {\n      type: Number,\n      default: 0\n    },\n    onScroll: {\n      type: [Function, Array]\n    },\n    onReachBottom: {\n      type: [Function, Array]\n    }\n  },\n  emits: [\"scroll\", \"reachBottom\"],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const prefixCls = getPrefixCls(\"dropdown\");\n    const dropdownCtx = inject(dropdownInjectionKey, {});\n    const wrapperRef = ref();\n\n    const handleScroll = e => {\n      const {\n        scrollTop,\n        scrollHeight,\n        offsetHeight\n      } = e.target;\n      const bottom = scrollHeight - (scrollTop + offsetHeight);\n\n      if (bottom <= props.bottomOffset) {\n        emit(\"reachBottom\", e);\n      }\n\n      emit(\"scroll\", e);\n    };\n\n    const style = computed(() => {\n      if (isNumber(dropdownCtx.popupMaxHeight)) {\n        return {\n          maxHeight: `${dropdownCtx.popupMaxHeight}px`\n        };\n      }\n\n      if (!dropdownCtx.popupMaxHeight) {\n        return {\n          maxHeight: \"none\",\n          overflowY: \"hidden\"\n        };\n      }\n\n      return void 0;\n    });\n    const cls = computed(() => [prefixCls, {\n      [`${prefixCls}-has-footer`]: Boolean(slots.footer)\n    }]);\n    return {\n      prefixCls,\n      cls,\n      style,\n      wrapperRef,\n      handleScroll\n    };\n  }\n\n});\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_empty = resolveComponent(\"empty\");\n\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass(_ctx.cls)\n  }, [_ctx.isEmpty ? (openBlock(), createElementBlock(\"div\", {\n    key: 0,\n    class: normalizeClass(`${_ctx.prefixCls}-empty`)\n  }, [renderSlot(_ctx.$slots, \"empty\", {}, () => [createVNode(_component_empty)])], 2)) : createCommentVNode(\"v-if\", true), createElementVNode(\"div\", {\n    ref: \"wrapperRef\",\n    class: normalizeClass(`${_ctx.prefixCls}-list-wrapper`),\n    style: normalizeStyle(_ctx.style),\n    onScroll: _cache[0] || (_cache[0] = (...args) => _ctx.handleScroll && _ctx.handleScroll(...args))\n  }, [createElementVNode(\"ul\", {\n    class: normalizeClass(`${_ctx.prefixCls}-list`)\n  }, [renderSlot(_ctx.$slots, \"default\")], 2)], 38), _ctx.$slots.footer && !_ctx.isEmpty ? (openBlock(), createElementBlock(\"div\", {\n    key: 1,\n    class: normalizeClass(`${_ctx.prefixCls}-footer`)\n  }, [renderSlot(_ctx.$slots, \"footer\")], 2)) : createCommentVNode(\"v-if\", true)], 2);\n}\n\nvar DropdownPanel = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { DropdownPanel as default };","map":{"version":3,"names":["defineComponent","inject","ref","computed","resolveComponent","openBlock","createElementBlock","normalizeClass","renderSlot","createVNode","createCommentVNode","createElementVNode","normalizeStyle","getPrefixCls","Empty","dropdownInjectionKey","isNumber","_export_sfc","_sfc_main","name","components","props","loading","type","Boolean","default","isEmpty","bottomOffset","Number","onScroll","Function","Array","onReachBottom","emits","setup","emit","slots","prefixCls","dropdownCtx","wrapperRef","handleScroll","e","scrollTop","scrollHeight","offsetHeight","target","bottom","style","popupMaxHeight","maxHeight","overflowY","cls","footer","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","_component_empty","class","key","$slots","args","DropdownPanel"],"sources":["/www/wwwroot/admin/node_modules/@arco-design/web-vue/es/dropdown/dropdown-panel.js"],"sourcesContent":["import { defineComponent, inject, ref, computed, resolveComponent, openBlock, createElementBlock, normalizeClass, renderSlot, createVNode, createCommentVNode, createElementVNode, normalizeStyle } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport Empty from \"../empty/index.js\";\nimport { dropdownInjectionKey } from \"./context.js\";\nimport { isNumber } from \"../_utils/is.js\";\nimport _export_sfc from \"../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"DropdownPanel\",\n  components: {\n    Empty\n  },\n  props: {\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    isEmpty: {\n      type: Boolean,\n      default: false\n    },\n    bottomOffset: {\n      type: Number,\n      default: 0\n    },\n    onScroll: {\n      type: [Function, Array]\n    },\n    onReachBottom: {\n      type: [Function, Array]\n    }\n  },\n  emits: [\"scroll\", \"reachBottom\"],\n  setup(props, { emit, slots }) {\n    const prefixCls = getPrefixCls(\"dropdown\");\n    const dropdownCtx = inject(dropdownInjectionKey, {});\n    const wrapperRef = ref();\n    const handleScroll = (e) => {\n      const { scrollTop, scrollHeight, offsetHeight } = e.target;\n      const bottom = scrollHeight - (scrollTop + offsetHeight);\n      if (bottom <= props.bottomOffset) {\n        emit(\"reachBottom\", e);\n      }\n      emit(\"scroll\", e);\n    };\n    const style = computed(() => {\n      if (isNumber(dropdownCtx.popupMaxHeight)) {\n        return {\n          maxHeight: `${dropdownCtx.popupMaxHeight}px`\n        };\n      }\n      if (!dropdownCtx.popupMaxHeight) {\n        return {\n          maxHeight: \"none\",\n          overflowY: \"hidden\"\n        };\n      }\n      return void 0;\n    });\n    const cls = computed(() => [\n      prefixCls,\n      {\n        [`${prefixCls}-has-footer`]: Boolean(slots.footer)\n      }\n    ]);\n    return {\n      prefixCls,\n      cls,\n      style,\n      wrapperRef,\n      handleScroll\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_empty = resolveComponent(\"empty\");\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass(_ctx.cls)\n  }, [\n    _ctx.isEmpty ? (openBlock(), createElementBlock(\"div\", {\n      key: 0,\n      class: normalizeClass(`${_ctx.prefixCls}-empty`)\n    }, [\n      renderSlot(_ctx.$slots, \"empty\", {}, () => [\n        createVNode(_component_empty)\n      ])\n    ], 2)) : createCommentVNode(\"v-if\", true),\n    createElementVNode(\"div\", {\n      ref: \"wrapperRef\",\n      class: normalizeClass(`${_ctx.prefixCls}-list-wrapper`),\n      style: normalizeStyle(_ctx.style),\n      onScroll: _cache[0] || (_cache[0] = (...args) => _ctx.handleScroll && _ctx.handleScroll(...args))\n    }, [\n      createElementVNode(\"ul\", {\n        class: normalizeClass(`${_ctx.prefixCls}-list`)\n      }, [\n        renderSlot(_ctx.$slots, \"default\")\n      ], 2)\n    ], 38),\n    _ctx.$slots.footer && !_ctx.isEmpty ? (openBlock(), createElementBlock(\"div\", {\n      key: 1,\n      class: normalizeClass(`${_ctx.prefixCls}-footer`)\n    }, [\n      renderSlot(_ctx.$slots, \"footer\")\n    ], 2)) : createCommentVNode(\"v-if\", true)\n  ], 2);\n}\nvar DropdownPanel = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { DropdownPanel as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}