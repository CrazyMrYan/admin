{"ast":null,"code":"import { ref, reactive, inject, computed } from \"vue\";\nimport { isString } from \"../_utils/is.js\";\nimport { configProviderInjectionKey } from \"../config-provider/context.js\";\nimport lang from \"./lang/zh-cn.js\";\nconst LOCALE = ref(\"zh-CN\");\nconst I18N_MESSAGES = reactive({\n  \"zh-CN\": lang\n});\n\nconst addI18nMessages = (messages, options) => {\n  for (const key of Object.keys(messages)) {\n    if (!I18N_MESSAGES[key] || (options == null ? void 0 : options.overwrite)) {\n      I18N_MESSAGES[key] = messages[key];\n    }\n  }\n};\n\nconst useLocale = locale => {\n  if (!I18N_MESSAGES[locale]) {\n    console.warn(`use ${locale} failed! Please add ${locale} first`);\n    return;\n  }\n\n  LOCALE.value = locale;\n};\n\nconst getLocale = () => {\n  return LOCALE.value;\n};\n\nconst useI18n = () => {\n  const configProvider = inject(configProviderInjectionKey, void 0);\n  const i18nMessage = computed(() => {\n    var _a;\n\n    return (_a = configProvider == null ? void 0 : configProvider.locale) != null ? _a : I18N_MESSAGES[LOCALE.value];\n  });\n  const locale = computed(() => i18nMessage.value.locale);\n\n  const transform = (key, ...args) => {\n    const keyArray = key.split(\".\");\n    let temp = i18nMessage.value;\n\n    for (const keyItem of keyArray) {\n      if (!temp[keyItem]) {\n        return key;\n      }\n\n      temp = temp[keyItem];\n    }\n\n    if (isString(temp)) {\n      if (args.length > 0) {\n        return temp.replace(/{(\\d+)}/g, (sub, index) => {\n          var _a;\n\n          return (_a = args[index]) != null ? _a : sub;\n        });\n      }\n\n      return temp;\n    }\n\n    return temp;\n  };\n\n  return {\n    locale,\n    t: transform\n  };\n};\n\nexport { addI18nMessages, getLocale, useI18n, useLocale };","map":{"version":3,"names":["ref","reactive","inject","computed","isString","configProviderInjectionKey","lang","LOCALE","I18N_MESSAGES","addI18nMessages","messages","options","key","Object","keys","overwrite","useLocale","locale","console","warn","value","getLocale","useI18n","configProvider","i18nMessage","_a","transform","args","keyArray","split","temp","keyItem","length","replace","sub","index","t"],"sources":["/www/wwwroot/admin/node_modules/@arco-design/web-vue/es/locale/index.js"],"sourcesContent":["import { ref, reactive, inject, computed } from \"vue\";\nimport { isString } from \"../_utils/is.js\";\nimport { configProviderInjectionKey } from \"../config-provider/context.js\";\nimport lang from \"./lang/zh-cn.js\";\nconst LOCALE = ref(\"zh-CN\");\nconst I18N_MESSAGES = reactive({\n  \"zh-CN\": lang\n});\nconst addI18nMessages = (messages, options) => {\n  for (const key of Object.keys(messages)) {\n    if (!I18N_MESSAGES[key] || (options == null ? void 0 : options.overwrite)) {\n      I18N_MESSAGES[key] = messages[key];\n    }\n  }\n};\nconst useLocale = (locale) => {\n  if (!I18N_MESSAGES[locale]) {\n    console.warn(`use ${locale} failed! Please add ${locale} first`);\n    return;\n  }\n  LOCALE.value = locale;\n};\nconst getLocale = () => {\n  return LOCALE.value;\n};\nconst useI18n = () => {\n  const configProvider = inject(configProviderInjectionKey, void 0);\n  const i18nMessage = computed(() => {\n    var _a;\n    return (_a = configProvider == null ? void 0 : configProvider.locale) != null ? _a : I18N_MESSAGES[LOCALE.value];\n  });\n  const locale = computed(() => i18nMessage.value.locale);\n  const transform = (key, ...args) => {\n    const keyArray = key.split(\".\");\n    let temp = i18nMessage.value;\n    for (const keyItem of keyArray) {\n      if (!temp[keyItem]) {\n        return key;\n      }\n      temp = temp[keyItem];\n    }\n    if (isString(temp)) {\n      if (args.length > 0) {\n        return temp.replace(/{(\\d+)}/g, (sub, index) => {\n          var _a;\n          return (_a = args[index]) != null ? _a : sub;\n        });\n      }\n      return temp;\n    }\n    return temp;\n  };\n  return {\n    locale,\n    t: transform\n  };\n};\nexport { addI18nMessages, getLocale, useI18n, useLocale };\n"],"mappings":"AAAA,SAASA,GAAT,EAAcC,QAAd,EAAwBC,MAAxB,EAAgCC,QAAhC,QAAgD,KAAhD;AACA,SAASC,QAAT,QAAyB,iBAAzB;AACA,SAASC,0BAAT,QAA2C,+BAA3C;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,MAAMC,MAAM,GAAGP,GAAG,CAAC,OAAD,CAAlB;AACA,MAAMQ,aAAa,GAAGP,QAAQ,CAAC;EAC7B,SAASK;AADoB,CAAD,CAA9B;;AAGA,MAAMG,eAAe,GAAG,CAACC,QAAD,EAAWC,OAAX,KAAuB;EAC7C,KAAK,MAAMC,GAAX,IAAkBC,MAAM,CAACC,IAAP,CAAYJ,QAAZ,CAAlB,EAAyC;IACvC,IAAI,CAACF,aAAa,CAACI,GAAD,CAAd,KAAwBD,OAAO,IAAI,IAAX,GAAkB,KAAK,CAAvB,GAA2BA,OAAO,CAACI,SAA3D,CAAJ,EAA2E;MACzEP,aAAa,CAACI,GAAD,CAAb,GAAqBF,QAAQ,CAACE,GAAD,CAA7B;IACD;EACF;AACF,CAND;;AAOA,MAAMI,SAAS,GAAIC,MAAD,IAAY;EAC5B,IAAI,CAACT,aAAa,CAACS,MAAD,CAAlB,EAA4B;IAC1BC,OAAO,CAACC,IAAR,CAAc,OAAMF,MAAO,uBAAsBA,MAAO,QAAxD;IACA;EACD;;EACDV,MAAM,CAACa,KAAP,GAAeH,MAAf;AACD,CAND;;AAOA,MAAMI,SAAS,GAAG,MAAM;EACtB,OAAOd,MAAM,CAACa,KAAd;AACD,CAFD;;AAGA,MAAME,OAAO,GAAG,MAAM;EACpB,MAAMC,cAAc,GAAGrB,MAAM,CAACG,0BAAD,EAA6B,KAAK,CAAlC,CAA7B;EACA,MAAMmB,WAAW,GAAGrB,QAAQ,CAAC,MAAM;IACjC,IAAIsB,EAAJ;;IACA,OAAO,CAACA,EAAE,GAAGF,cAAc,IAAI,IAAlB,GAAyB,KAAK,CAA9B,GAAkCA,cAAc,CAACN,MAAvD,KAAkE,IAAlE,GAAyEQ,EAAzE,GAA8EjB,aAAa,CAACD,MAAM,CAACa,KAAR,CAAlG;EACD,CAH2B,CAA5B;EAIA,MAAMH,MAAM,GAAGd,QAAQ,CAAC,MAAMqB,WAAW,CAACJ,KAAZ,CAAkBH,MAAzB,CAAvB;;EACA,MAAMS,SAAS,GAAG,CAACd,GAAD,EAAM,GAAGe,IAAT,KAAkB;IAClC,MAAMC,QAAQ,GAAGhB,GAAG,CAACiB,KAAJ,CAAU,GAAV,CAAjB;IACA,IAAIC,IAAI,GAAGN,WAAW,CAACJ,KAAvB;;IACA,KAAK,MAAMW,OAAX,IAAsBH,QAAtB,EAAgC;MAC9B,IAAI,CAACE,IAAI,CAACC,OAAD,CAAT,EAAoB;QAClB,OAAOnB,GAAP;MACD;;MACDkB,IAAI,GAAGA,IAAI,CAACC,OAAD,CAAX;IACD;;IACD,IAAI3B,QAAQ,CAAC0B,IAAD,CAAZ,EAAoB;MAClB,IAAIH,IAAI,CAACK,MAAL,GAAc,CAAlB,EAAqB;QACnB,OAAOF,IAAI,CAACG,OAAL,CAAa,UAAb,EAAyB,CAACC,GAAD,EAAMC,KAAN,KAAgB;UAC9C,IAAIV,EAAJ;;UACA,OAAO,CAACA,EAAE,GAAGE,IAAI,CAACQ,KAAD,CAAV,KAAsB,IAAtB,GAA6BV,EAA7B,GAAkCS,GAAzC;QACD,CAHM,CAAP;MAID;;MACD,OAAOJ,IAAP;IACD;;IACD,OAAOA,IAAP;EACD,CAnBD;;EAoBA,OAAO;IACLb,MADK;IAELmB,CAAC,EAAEV;EAFE,CAAP;AAID,CA/BD;;AAgCA,SAASjB,eAAT,EAA0BY,SAA1B,EAAqCC,OAArC,EAA8CN,SAA9C"},"metadata":{},"sourceType":"module"}