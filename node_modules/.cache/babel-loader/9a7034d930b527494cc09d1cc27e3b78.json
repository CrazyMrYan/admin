{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\nconst getTextBeforeSelection = element => {\n  const {\n    value,\n    selectionStart\n  } = element;\n  return value.slice(0, selectionStart);\n};\n\nconst getLastMeasureIndex = (text, prefix) => {\n  const _prefix = [].concat(prefix);\n\n  return _prefix.reduce((pre, value) => {\n    const lastIndex = text.lastIndexOf(value);\n\n    if (lastIndex > pre.location) {\n      return {\n        location: lastIndex,\n        prefix: value\n      };\n    }\n\n    return pre;\n  }, {\n    location: -1,\n    prefix: \"\"\n  });\n};\n\nconst isValidSearch = (text, split) => {\n  return !split || !text.includes(split);\n};\n\nexport { getLastMeasureIndex, getTextBeforeSelection, isValidSearch };","map":{"version":3,"names":["getTextBeforeSelection","element","value","selectionStart","slice","getLastMeasureIndex","text","prefix","_prefix","concat","reduce","pre","lastIndex","lastIndexOf","location","isValidSearch","split","includes"],"sources":["/www/wwwroot/admin/node_modules/@arco-design/web-vue/es/mention/utils.js"],"sourcesContent":["const getTextBeforeSelection = (element) => {\n  const { value, selectionStart } = element;\n  return value.slice(0, selectionStart);\n};\nconst getLastMeasureIndex = (text, prefix) => {\n  const _prefix = [].concat(prefix);\n  return _prefix.reduce((pre, value) => {\n    const lastIndex = text.lastIndexOf(value);\n    if (lastIndex > pre.location) {\n      return {\n        location: lastIndex,\n        prefix: value\n      };\n    }\n    return pre;\n  }, {\n    location: -1,\n    prefix: \"\"\n  });\n};\nconst isValidSearch = (text, split) => {\n  return !split || !text.includes(split);\n};\nexport { getLastMeasureIndex, getTextBeforeSelection, isValidSearch };\n"],"mappings":";;AAAA,MAAMA,sBAAsB,GAAIC,OAAD,IAAa;EAC1C,MAAM;IAAEC,KAAF;IAASC;EAAT,IAA4BF,OAAlC;EACA,OAAOC,KAAK,CAACE,KAAN,CAAY,CAAZ,EAAeD,cAAf,CAAP;AACD,CAHD;;AAIA,MAAME,mBAAmB,GAAG,CAACC,IAAD,EAAOC,MAAP,KAAkB;EAC5C,MAAMC,OAAO,GAAG,GAAGC,MAAH,CAAUF,MAAV,CAAhB;;EACA,OAAOC,OAAO,CAACE,MAAR,CAAe,CAACC,GAAD,EAAMT,KAAN,KAAgB;IACpC,MAAMU,SAAS,GAAGN,IAAI,CAACO,WAAL,CAAiBX,KAAjB,CAAlB;;IACA,IAAIU,SAAS,GAAGD,GAAG,CAACG,QAApB,EAA8B;MAC5B,OAAO;QACLA,QAAQ,EAAEF,SADL;QAELL,MAAM,EAAEL;MAFH,CAAP;IAID;;IACD,OAAOS,GAAP;EACD,CATM,EASJ;IACDG,QAAQ,EAAE,CAAC,CADV;IAEDP,MAAM,EAAE;EAFP,CATI,CAAP;AAaD,CAfD;;AAgBA,MAAMQ,aAAa,GAAG,CAACT,IAAD,EAAOU,KAAP,KAAiB;EACrC,OAAO,CAACA,KAAD,IAAU,CAACV,IAAI,CAACW,QAAL,CAAcD,KAAd,CAAlB;AACD,CAFD;;AAGA,SAASX,mBAAT,EAA8BL,sBAA9B,EAAsDe,aAAtD"},"metadata":{},"sourceType":"module"}