{"ast":null,"code":"import { ref } from \"vue\";\nimport { getScrollBarWidth, isScroll } from \"../_utils/dom.js\";\n\nconst useOverflow = elementRef => {\n  const isSetOverflow = ref(false);\n  const originStyle = {\n    overflow: \"\",\n    width: \"\",\n    boxSizing: \"\"\n  };\n\n  const setOverflowHidden = () => {\n    if (elementRef.value) {\n      const element = elementRef.value;\n\n      if (!isSetOverflow.value && element.style.overflow !== \"hidden\") {\n        const scrollBarWidth = getScrollBarWidth(element);\n\n        if (scrollBarWidth > 0 || isScroll(element)) {\n          originStyle.overflow = element.style.overflow;\n          originStyle.width = element.style.width;\n          originStyle.boxSizing = element.style.boxSizing;\n          element.style.overflow = \"hidden\";\n          element.style.width = `${element.offsetWidth - scrollBarWidth}px`;\n          element.style.boxSizing = \"border-box\";\n          isSetOverflow.value = true;\n        }\n      }\n    }\n  };\n\n  const resetOverflow = () => {\n    if (elementRef.value && isSetOverflow.value) {\n      const element = elementRef.value;\n      element.style.overflow = originStyle.overflow;\n      element.style.width = originStyle.width;\n      element.style.boxSizing = originStyle.boxSizing;\n      isSetOverflow.value = false;\n    }\n  };\n\n  return {\n    setOverflowHidden,\n    resetOverflow\n  };\n};\n\nexport { useOverflow };","map":{"version":3,"names":["ref","getScrollBarWidth","isScroll","useOverflow","elementRef","isSetOverflow","originStyle","overflow","width","boxSizing","setOverflowHidden","value","element","style","scrollBarWidth","offsetWidth","resetOverflow"],"sources":["/www/wwwroot/admin/node_modules/@arco-design/web-vue/es/_hooks/use-overflow.js"],"sourcesContent":["import { ref } from \"vue\";\nimport { getScrollBarWidth, isScroll } from \"../_utils/dom.js\";\nconst useOverflow = (elementRef) => {\n  const isSetOverflow = ref(false);\n  const originStyle = {\n    overflow: \"\",\n    width: \"\",\n    boxSizing: \"\"\n  };\n  const setOverflowHidden = () => {\n    if (elementRef.value) {\n      const element = elementRef.value;\n      if (!isSetOverflow.value && element.style.overflow !== \"hidden\") {\n        const scrollBarWidth = getScrollBarWidth(element);\n        if (scrollBarWidth > 0 || isScroll(element)) {\n          originStyle.overflow = element.style.overflow;\n          originStyle.width = element.style.width;\n          originStyle.boxSizing = element.style.boxSizing;\n          element.style.overflow = \"hidden\";\n          element.style.width = `${element.offsetWidth - scrollBarWidth}px`;\n          element.style.boxSizing = \"border-box\";\n          isSetOverflow.value = true;\n        }\n      }\n    }\n  };\n  const resetOverflow = () => {\n    if (elementRef.value && isSetOverflow.value) {\n      const element = elementRef.value;\n      element.style.overflow = originStyle.overflow;\n      element.style.width = originStyle.width;\n      element.style.boxSizing = originStyle.boxSizing;\n      isSetOverflow.value = false;\n    }\n  };\n  return {\n    setOverflowHidden,\n    resetOverflow\n  };\n};\nexport { useOverflow };\n"],"mappings":"AAAA,SAASA,GAAT,QAAoB,KAApB;AACA,SAASC,iBAAT,EAA4BC,QAA5B,QAA4C,kBAA5C;;AACA,MAAMC,WAAW,GAAIC,UAAD,IAAgB;EAClC,MAAMC,aAAa,GAAGL,GAAG,CAAC,KAAD,CAAzB;EACA,MAAMM,WAAW,GAAG;IAClBC,QAAQ,EAAE,EADQ;IAElBC,KAAK,EAAE,EAFW;IAGlBC,SAAS,EAAE;EAHO,CAApB;;EAKA,MAAMC,iBAAiB,GAAG,MAAM;IAC9B,IAAIN,UAAU,CAACO,KAAf,EAAsB;MACpB,MAAMC,OAAO,GAAGR,UAAU,CAACO,KAA3B;;MACA,IAAI,CAACN,aAAa,CAACM,KAAf,IAAwBC,OAAO,CAACC,KAAR,CAAcN,QAAd,KAA2B,QAAvD,EAAiE;QAC/D,MAAMO,cAAc,GAAGb,iBAAiB,CAACW,OAAD,CAAxC;;QACA,IAAIE,cAAc,GAAG,CAAjB,IAAsBZ,QAAQ,CAACU,OAAD,CAAlC,EAA6C;UAC3CN,WAAW,CAACC,QAAZ,GAAuBK,OAAO,CAACC,KAAR,CAAcN,QAArC;UACAD,WAAW,CAACE,KAAZ,GAAoBI,OAAO,CAACC,KAAR,CAAcL,KAAlC;UACAF,WAAW,CAACG,SAAZ,GAAwBG,OAAO,CAACC,KAAR,CAAcJ,SAAtC;UACAG,OAAO,CAACC,KAAR,CAAcN,QAAd,GAAyB,QAAzB;UACAK,OAAO,CAACC,KAAR,CAAcL,KAAd,GAAuB,GAAEI,OAAO,CAACG,WAAR,GAAsBD,cAAe,IAA9D;UACAF,OAAO,CAACC,KAAR,CAAcJ,SAAd,GAA0B,YAA1B;UACAJ,aAAa,CAACM,KAAd,GAAsB,IAAtB;QACD;MACF;IACF;EACF,CAhBD;;EAiBA,MAAMK,aAAa,GAAG,MAAM;IAC1B,IAAIZ,UAAU,CAACO,KAAX,IAAoBN,aAAa,CAACM,KAAtC,EAA6C;MAC3C,MAAMC,OAAO,GAAGR,UAAU,CAACO,KAA3B;MACAC,OAAO,CAACC,KAAR,CAAcN,QAAd,GAAyBD,WAAW,CAACC,QAArC;MACAK,OAAO,CAACC,KAAR,CAAcL,KAAd,GAAsBF,WAAW,CAACE,KAAlC;MACAI,OAAO,CAACC,KAAR,CAAcJ,SAAd,GAA0BH,WAAW,CAACG,SAAtC;MACAJ,aAAa,CAACM,KAAd,GAAsB,KAAtB;IACD;EACF,CARD;;EASA,OAAO;IACLD,iBADK;IAELM;EAFK,CAAP;AAID,CArCD;;AAsCA,SAASb,WAAT"},"metadata":{},"sourceType":"module"}