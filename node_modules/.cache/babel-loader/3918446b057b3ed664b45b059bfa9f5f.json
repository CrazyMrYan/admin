{"ast":null,"code":"import { defineComponent, toRefs, computed, h } from \"vue\";\nimport RenderFunction from \"../_components/render-function.js\";\nimport IconLoading from \"../icon/icon-loading/index.js\";\nimport IconHover from \"../_components/icon-hover.js\";\nimport IconCaretDown from \"../icon/icon-caret-down/index.js\";\nimport IconFile from \"../icon/icon-file/index.js\";\nimport useTreeContext from \"./hooks/use-tree-context.js\";\nimport usePickSlots from \"../_hooks/use-pick-slots.js\";\n\nvar _sfc_main = defineComponent({\n  name: \"TreeNodeSwitcher\",\n  components: {\n    IconLoading,\n    RenderFunction\n  },\n  props: {\n    prefixCls: String,\n    expanded: Boolean,\n    loading: Boolean,\n    showLine: Boolean,\n    isLeaf: Boolean,\n    treeNodeData: {\n      type: Object\n    },\n    icons: {\n      type: Object\n    }\n  },\n  emits: [\"click\"],\n\n  setup(props, {\n    slots,\n    emit\n  }) {\n    const {\n      icons\n    } = toRefs(props);\n    const treeContext = useTreeContext();\n    const nodeSwitcherIcon = usePickSlots(slots, \"switcher-icon\");\n    const nodeLoadingIcon = usePickSlots(slots, \"loading-icon\");\n    return {\n      switcherIcon: computed(() => {\n        var _a;\n\n        return ((_a = icons == null ? void 0 : icons.value) == null ? void 0 : _a.switcherIcon) || nodeSwitcherIcon.value || treeContext.switcherIcon;\n      }),\n      loadingIcon: computed(() => {\n        var _a;\n\n        return ((_a = icons == null ? void 0 : icons.value) == null ? void 0 : _a.loadingIcon) || nodeLoadingIcon.value || treeContext.loadingIcon;\n      }),\n\n      onClick(e) {\n        emit(\"click\", e);\n      }\n\n    };\n  },\n\n  render() {\n    const {\n      prefixCls,\n      switcherIcon,\n      loadingIcon,\n      onClick,\n      expanded,\n      loading,\n      isLeaf,\n      showLine,\n      treeNodeData\n    } = this;\n\n    if (loading) {\n      return loadingIcon ? loadingIcon(treeNodeData) : h(IconLoading);\n    }\n\n    let icon = null;\n    let needIconHover = false;\n\n    if (!isLeaf) {\n      const defaultIcon = showLine ? h(\"span\", {\n        class: `${prefixCls}-${expanded ? \"minus\" : \"plus\"}-icon`\n      }) : h(IconCaretDown);\n      icon = switcherIcon ? switcherIcon(treeNodeData) : defaultIcon;\n      needIconHover = !showLine;\n    } else if (showLine) {\n      icon = switcherIcon ? switcherIcon(treeNodeData) : h(IconFile);\n    }\n\n    if (!icon) return null;\n    const content = h(\"span\", {\n      class: `${prefixCls}-switcher-icon`,\n      onClick\n    }, icon);\n    return needIconHover ? h(IconHover, {\n      class: `${prefixCls}-icon-hover`\n    }, () => content) : content;\n  }\n\n});\n\nexport { _sfc_main as default };","map":{"version":3,"names":["defineComponent","toRefs","computed","h","RenderFunction","IconLoading","IconHover","IconCaretDown","IconFile","useTreeContext","usePickSlots","_sfc_main","name","components","props","prefixCls","String","expanded","Boolean","loading","showLine","isLeaf","treeNodeData","type","Object","icons","emits","setup","slots","emit","treeContext","nodeSwitcherIcon","nodeLoadingIcon","switcherIcon","_a","value","loadingIcon","onClick","e","render","icon","needIconHover","defaultIcon","class","content","default"],"sources":["/www/wwwroot/admin/node_modules/@arco-design/web-vue/es/tree/node-switcher.vue_vue&type=script&lang.js"],"sourcesContent":["import { defineComponent, toRefs, computed, h } from \"vue\";\nimport RenderFunction from \"../_components/render-function.js\";\nimport IconLoading from \"../icon/icon-loading/index.js\";\nimport IconHover from \"../_components/icon-hover.js\";\nimport IconCaretDown from \"../icon/icon-caret-down/index.js\";\nimport IconFile from \"../icon/icon-file/index.js\";\nimport useTreeContext from \"./hooks/use-tree-context.js\";\nimport usePickSlots from \"../_hooks/use-pick-slots.js\";\nvar _sfc_main = defineComponent({\n  name: \"TreeNodeSwitcher\",\n  components: {\n    IconLoading,\n    RenderFunction\n  },\n  props: {\n    prefixCls: String,\n    expanded: Boolean,\n    loading: Boolean,\n    showLine: Boolean,\n    isLeaf: Boolean,\n    treeNodeData: {\n      type: Object\n    },\n    icons: {\n      type: Object\n    }\n  },\n  emits: [\"click\"],\n  setup(props, {\n    slots,\n    emit\n  }) {\n    const {\n      icons\n    } = toRefs(props);\n    const treeContext = useTreeContext();\n    const nodeSwitcherIcon = usePickSlots(slots, \"switcher-icon\");\n    const nodeLoadingIcon = usePickSlots(slots, \"loading-icon\");\n    return {\n      switcherIcon: computed(() => {\n        var _a;\n        return ((_a = icons == null ? void 0 : icons.value) == null ? void 0 : _a.switcherIcon) || nodeSwitcherIcon.value || treeContext.switcherIcon;\n      }),\n      loadingIcon: computed(() => {\n        var _a;\n        return ((_a = icons == null ? void 0 : icons.value) == null ? void 0 : _a.loadingIcon) || nodeLoadingIcon.value || treeContext.loadingIcon;\n      }),\n      onClick(e) {\n        emit(\"click\", e);\n      }\n    };\n  },\n  render() {\n    const {\n      prefixCls,\n      switcherIcon,\n      loadingIcon,\n      onClick,\n      expanded,\n      loading,\n      isLeaf,\n      showLine,\n      treeNodeData\n    } = this;\n    if (loading) {\n      return loadingIcon ? loadingIcon(treeNodeData) : h(IconLoading);\n    }\n    let icon = null;\n    let needIconHover = false;\n    if (!isLeaf) {\n      const defaultIcon = showLine ? h(\"span\", {\n        class: `${prefixCls}-${expanded ? \"minus\" : \"plus\"}-icon`\n      }) : h(IconCaretDown);\n      icon = switcherIcon ? switcherIcon(treeNodeData) : defaultIcon;\n      needIconHover = !showLine;\n    } else if (showLine) {\n      icon = switcherIcon ? switcherIcon(treeNodeData) : h(IconFile);\n    }\n    if (!icon)\n      return null;\n    const content = h(\"span\", {\n      class: `${prefixCls}-switcher-icon`,\n      onClick\n    }, icon);\n    return needIconHover ? h(IconHover, {\n      class: `${prefixCls}-icon-hover`\n    }, () => content) : content;\n  }\n});\nexport { _sfc_main as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}