{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\nimport { defineComponent, toRefs, computed, inject, ref, provide, reactive, watch, onMounted, onUpdated, onBeforeUnmount, createVNode, Fragment, Teleport, mergeProps, Transition, withDirectives, vShow, nextTick } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { getScrollElements, getElementScrollRect, getPopupStyle, getTransformOrigin, getArrowStyle } from \"./utils.js\";\nimport ResizeObserver from \"../_components/resize-observer-v2.js\";\nimport { on, off } from \"../_utils/dom.js\";\nimport { isEmptyChildren, mergeFirstChild } from \"../_utils/vue-utils.js\";\nimport usePickSlots from \"../_hooks/use-pick-slots.js\";\nimport { triggerInjectionKey } from \"./context.js\";\nimport { throttleByRaf } from \"../_utils/throttle-by-raf.js\";\nimport usePopupManager from \"../_hooks/use-popup-manager.js\";\nimport { useResizeObserver } from \"../_hooks/use-resize-observer.js\";\nimport ClientOnly from \"../_components/client-only.js\";\nimport { useTeleportContainer } from \"../_hooks/use-teleport-container.js\";\nimport { configProviderInjectionKey } from \"../config-provider/context.js\";\nimport { useFirstElement } from \"../_hooks/use-first-element.js\";\nimport { omit } from \"../_utils/omit.js\";\nconst TRIGGER_EVENTS = [\"onClick\", \"onMouseenter\", \"onMouseleave\", \"onFocusin\", \"onFocusout\", \"onContextmenu\"];\n\nvar _Trigger = defineComponent({\n  name: \"Trigger\",\n  inheritAttrs: false,\n  props: {\n    popupVisible: {\n      type: Boolean,\n      default: void 0\n    },\n    defaultPopupVisible: {\n      type: Boolean,\n      default: false\n    },\n    trigger: {\n      type: [String, Array],\n      default: \"hover\"\n    },\n    position: {\n      type: String,\n      default: \"bottom\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    popupOffset: {\n      type: Number,\n      default: 0\n    },\n    popupTranslate: {\n      type: [Array, Object]\n    },\n    showArrow: {\n      type: Boolean,\n      default: false\n    },\n    alignPoint: {\n      type: Boolean,\n      default: false\n    },\n    popupHoverStay: {\n      type: Boolean,\n      default: true\n    },\n    blurToClose: {\n      type: Boolean,\n      default: true\n    },\n    clickToClose: {\n      type: Boolean,\n      default: true\n    },\n    clickOutsideToClose: {\n      type: Boolean,\n      default: true\n    },\n    unmountOnClose: {\n      type: Boolean,\n      default: true\n    },\n    contentClass: {\n      type: [String, Array, Object]\n    },\n    contentStyle: {\n      type: Object\n    },\n    arrowClass: {\n      type: [String, Array, Object]\n    },\n    arrowStyle: {\n      type: Object\n    },\n    popupStyle: {\n      type: Object\n    },\n    animationName: {\n      type: String,\n      default: \"fade-in\"\n    },\n    duration: {\n      type: [Number, Object]\n    },\n    mouseEnterDelay: {\n      type: Number,\n      default: 100\n    },\n    mouseLeaveDelay: {\n      type: Number,\n      default: 100\n    },\n    focusDelay: {\n      type: Number,\n      default: 0\n    },\n    autoFitPopupWidth: {\n      type: Boolean,\n      default: false\n    },\n    autoFitPopupMinWidth: {\n      type: Boolean,\n      default: false\n    },\n    autoFixPosition: {\n      type: Boolean,\n      default: true\n    },\n    popupContainer: {\n      type: [String, Object]\n    },\n    updateAtScroll: {\n      type: Boolean,\n      default: false\n    },\n    autoFitTransformOrigin: {\n      type: Boolean,\n      default: false\n    },\n    hideEmpty: {\n      type: Boolean,\n      default: false\n    },\n    openedClass: {\n      type: [String, Array, Object]\n    },\n    autoFitPosition: {\n      type: Boolean,\n      default: true\n    },\n    renderToBody: {\n      type: Boolean,\n      default: true\n    },\n    preventFocus: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: {\n    \"update:popupVisible\": visible => true,\n    \"popupVisibleChange\": visible => true,\n    \"show\": () => true,\n    \"hide\": () => true,\n    \"resize\": () => true\n  },\n\n  setup(props, {\n    emit,\n    slots,\n    attrs\n  }) {\n    const {\n      popupContainer\n    } = toRefs(props);\n    const prefixCls = getPrefixCls(\"trigger\");\n    const popupAttrs = computed(() => omit(attrs, TRIGGER_EVENTS));\n    const configCtx = inject(configProviderInjectionKey, void 0);\n    const triggerMethods = computed(() => [].concat(props.trigger));\n    const childrenRefs = new Set();\n    const triggerCtx = inject(triggerInjectionKey, void 0);\n    const {\n      children,\n      firstElement\n    } = useFirstElement();\n    const popupRef = ref();\n    const popupVisible = ref(props.defaultPopupVisible);\n    const popupPosition = ref(props.position);\n    const popupStyle = ref({});\n    const transformStyle = ref({});\n    const arrowStyle = ref({});\n    const arrowRef = ref();\n    const mousePosition = ref({\n      top: 0,\n      left: 0\n    });\n    const computedVisible = computed(() => {\n      var _a;\n\n      return (_a = props.popupVisible) != null ? _a : popupVisible.value;\n    });\n    const {\n      teleportContainer,\n      containerRef\n    } = useTeleportContainer({\n      popupContainer,\n      visible: computedVisible,\n      documentContainer: true\n    });\n    const {\n      zIndex\n    } = usePopupManager(\"popup\", {\n      visible: computedVisible\n    });\n    let delayTimer = 0;\n    let outsideListener = false;\n\n    const cleanDelayTimer = () => {\n      if (delayTimer) {\n        window.clearTimeout(delayTimer);\n        delayTimer = 0;\n      }\n    };\n\n    const updateMousePosition = e => {\n      if (props.alignPoint) {\n        const {\n          pageX,\n          pageY\n        } = e;\n        mousePosition.value = {\n          top: pageY,\n          left: pageX\n        };\n      }\n    };\n\n    const updatePopupStyle = () => {\n      if (!firstElement.value || !popupRef.value || !containerRef.value) {\n        return;\n      }\n\n      const containerRect = containerRef.value.getBoundingClientRect();\n      const triggerRect = props.alignPoint ? {\n        top: mousePosition.value.top,\n        bottom: mousePosition.value.top,\n        left: mousePosition.value.left,\n        right: mousePosition.value.left,\n        scrollTop: mousePosition.value.top,\n        scrollBottom: mousePosition.value.top,\n        scrollLeft: mousePosition.value.left,\n        scrollRight: mousePosition.value.left,\n        width: 0,\n        height: 0\n      } : getElementScrollRect(firstElement.value, containerRect);\n      const popupRect = getElementScrollRect(popupRef.value, containerRect);\n      const {\n        style,\n        position\n      } = getPopupStyle(props.position, containerRect, triggerRect, popupRect, {\n        offset: props.popupOffset,\n        translate: props.popupTranslate,\n        customStyle: props.popupStyle,\n        autoFitPosition: props.autoFitPosition\n      });\n\n      if (props.autoFitTransformOrigin) {\n        transformStyle.value = {\n          transformOrigin: getTransformOrigin(position)\n        };\n      }\n\n      if (props.autoFitPopupMinWidth) {\n        style.minWidth = `${triggerRect.width}px`;\n      } else if (props.autoFitPopupWidth) {\n        style.width = `${triggerRect.width}px`;\n      }\n\n      if (popupPosition.value !== position) {\n        popupPosition.value = position;\n      }\n\n      popupStyle.value = style;\n\n      if (props.showArrow) {\n        arrowStyle.value = getArrowStyle(position, triggerRect, popupRect, {\n          customStyle: props.arrowStyle\n        });\n      }\n    };\n\n    const changeVisible = (visible, delay) => {\n      if (visible === computedVisible.value && delayTimer === 0) {\n        return;\n      }\n\n      const update = () => {\n        popupVisible.value = visible;\n        emit(\"update:popupVisible\", visible);\n        emit(\"popupVisibleChange\", visible);\n\n        if (visible) {\n          nextTick(() => {\n            updatePopupStyle();\n          });\n        }\n      };\n\n      if (delay) {\n        cleanDelayTimer();\n\n        if (visible !== computedVisible.value) {\n          delayTimer = window.setTimeout(update, delay);\n        }\n      } else {\n        update();\n      }\n    };\n\n    const handleClick = e => {\n      var _a;\n\n      (_a = attrs.onClick) == null ? void 0 : _a.call(attrs, e);\n\n      if (props.disabled || computedVisible.value && !props.clickToClose) {\n        return;\n      }\n\n      if (triggerMethods.value.includes(\"click\")) {\n        updateMousePosition(e);\n        changeVisible(!computedVisible.value);\n      } else if (triggerMethods.value.includes(\"contextMenu\") && computedVisible.value) {\n        changeVisible(false);\n      }\n    };\n\n    const handleMouseEnter = e => {\n      var _a;\n\n      (_a = attrs.onMouseenter) == null ? void 0 : _a.call(attrs, e);\n\n      if (props.disabled || !triggerMethods.value.includes(\"hover\")) {\n        return;\n      }\n\n      updateMousePosition(e);\n      changeVisible(true, props.mouseEnterDelay);\n    };\n\n    const handleMouseEnterWithContext = e => {\n      triggerCtx == null ? void 0 : triggerCtx.onMouseenter(e);\n      handleMouseEnter(e);\n    };\n\n    const handleMouseLeave = e => {\n      var _a;\n\n      (_a = attrs.onMouseleave) == null ? void 0 : _a.call(attrs, e);\n\n      if (props.disabled || !triggerMethods.value.includes(\"hover\")) {\n        return;\n      }\n\n      changeVisible(false, props.mouseLeaveDelay);\n    };\n\n    const handleMouseLeaveWithContext = e => {\n      triggerCtx == null ? void 0 : triggerCtx.onMouseleave(e);\n      handleMouseLeave(e);\n    };\n\n    const handleFocusin = e => {\n      var _a;\n\n      (_a = attrs.onFocusin) == null ? void 0 : _a.call(attrs, e);\n\n      if (props.disabled || !triggerMethods.value.includes(\"focus\")) {\n        return;\n      }\n\n      changeVisible(true, props.focusDelay);\n    };\n\n    const handleFocusout = e => {\n      var _a;\n\n      (_a = attrs.onFocusout) == null ? void 0 : _a.call(attrs, e);\n\n      if (props.disabled || !triggerMethods.value.includes(\"focus\")) {\n        return;\n      }\n\n      if (!props.blurToClose) {\n        return;\n      }\n\n      changeVisible(false);\n    };\n\n    const handleContextmenu = e => {\n      var _a;\n\n      (_a = attrs.onContextmenu) == null ? void 0 : _a.call(attrs, e);\n\n      if (props.disabled || !triggerMethods.value.includes(\"contextMenu\") || computedVisible.value && !props.clickToClose) {\n        return;\n      }\n\n      updateMousePosition(e);\n      changeVisible(!computedVisible.value);\n      e.preventDefault();\n    };\n\n    const addChildRef = ref2 => {\n      childrenRefs.add(ref2);\n      triggerCtx == null ? void 0 : triggerCtx.addChildRef(ref2);\n    };\n\n    const removeChildRef = ref2 => {\n      childrenRefs.delete(ref2);\n      triggerCtx == null ? void 0 : triggerCtx.removeChildRef(ref2);\n    };\n\n    provide(triggerInjectionKey, reactive({\n      onMouseenter: handleMouseEnterWithContext,\n      onMouseleave: handleMouseLeaveWithContext,\n      addChildRef,\n      removeChildRef\n    }));\n\n    const removeOutsideListener = () => {\n      off(document.documentElement, \"mousedown\", handleOutsideClick);\n      outsideListener = false;\n    };\n\n    const contentSlot = usePickSlots(slots, \"content\");\n    const hidePopup = computed(() => {\n      var _a;\n\n      return props.hideEmpty && isEmptyChildren((_a = contentSlot.value) == null ? void 0 : _a.call(contentSlot));\n    });\n\n    const handleOutsideClick = e => {\n      var _a, _b, _c;\n\n      if (((_a = firstElement.value) == null ? void 0 : _a.contains(e.target)) || ((_b = popupRef.value) == null ? void 0 : _b.contains(e.target))) {\n        return;\n      }\n\n      for (const item of childrenRefs) {\n        if ((_c = item.value) == null ? void 0 : _c.contains(e.target)) {\n          return;\n        }\n      }\n\n      removeOutsideListener();\n      changeVisible(false);\n    };\n\n    const handleScroll = throttleByRaf(() => {\n      if (computedVisible.value) {\n        updatePopupStyle();\n      }\n    });\n\n    const handleResize = () => {\n      if (computedVisible.value) {\n        updatePopupStyle();\n      }\n    };\n\n    const onTargetResize = () => {\n      handleResize();\n      emit(\"resize\");\n    };\n\n    const handlePopupMouseDown = e => {\n      if (props.preventFocus) {\n        e.preventDefault();\n      }\n    };\n\n    triggerCtx == null ? void 0 : triggerCtx.addChildRef(popupRef);\n    const triggerCls = computed(() => {\n      return computedVisible.value ? props.openedClass : void 0;\n    });\n    let scrollElements;\n    watch(computedVisible, value => {\n      if (props.clickOutsideToClose) {\n        if (!value && outsideListener) {\n          removeOutsideListener();\n        } else if (value && !outsideListener) {\n          on(document.documentElement, \"mousedown\", handleOutsideClick);\n          outsideListener = true;\n        }\n      }\n\n      if (props.updateAtScroll || (configCtx == null ? void 0 : configCtx.updateAtScroll)) {\n        if (value) {\n          scrollElements = getScrollElements(firstElement.value);\n\n          for (const item of scrollElements) {\n            item.addEventListener(\"scroll\", handleScroll);\n          }\n        } else if (scrollElements) {\n          for (const item of scrollElements) {\n            item.removeEventListener(\"scroll\", handleScroll);\n          }\n\n          scrollElements = void 0;\n        }\n      }\n\n      if (value) {\n        mounted.value = true;\n      }\n    });\n    watch(() => [props.autoFitPopupWidth, props.autoFitPopupMinWidth], () => {\n      if (computedVisible.value) {\n        updatePopupStyle();\n      }\n    });\n    const {\n      createResizeObserver,\n      destroyResizeObserver\n    } = useResizeObserver({\n      elementRef: containerRef,\n      onResize: handleResize\n    });\n    onMounted(() => {\n      createResizeObserver();\n\n      if (computedVisible.value) {\n        updatePopupStyle();\n\n        if (props.clickOutsideToClose && !outsideListener) {\n          on(document.documentElement, \"mousedown\", handleOutsideClick);\n          outsideListener = true;\n        }\n\n        if (props.updateAtScroll || (configCtx == null ? void 0 : configCtx.updateAtScroll)) {\n          scrollElements = getScrollElements(firstElement.value);\n\n          for (const item of scrollElements) {\n            item.addEventListener(\"scroll\", handleScroll);\n          }\n        }\n      }\n    });\n    onUpdated(() => {\n      if (computedVisible.value) {\n        updatePopupStyle();\n      }\n    });\n    onBeforeUnmount(() => {\n      triggerCtx == null ? void 0 : triggerCtx.removeChildRef(popupRef);\n      destroyResizeObserver();\n\n      if (outsideListener) {\n        removeOutsideListener();\n      }\n\n      if (scrollElements) {\n        for (const item of scrollElements) {\n          item.removeEventListener(\"scroll\", handleScroll);\n        }\n\n        scrollElements = void 0;\n      }\n    });\n    const mounted = ref(computedVisible.value);\n    const isAnimation = ref(false);\n\n    const onAnimationStart = () => {\n      isAnimation.value = true;\n    };\n\n    const handleShow = () => {\n      isAnimation.value = false;\n\n      if (computedVisible.value) {\n        emit(\"show\");\n      }\n    };\n\n    const handleHide = () => {\n      isAnimation.value = false;\n\n      if (!computedVisible.value) {\n        mounted.value = false;\n        emit(\"hide\");\n      }\n    };\n\n    return () => {\n      var _a, _b;\n\n      children.value = (_b = (_a = slots.default) == null ? void 0 : _a.call(slots)) != null ? _b : [];\n      mergeFirstChild(children.value, {\n        class: triggerCls.value,\n        onClick: handleClick,\n        onMouseenter: handleMouseEnter,\n        onMouseleave: handleMouseLeave,\n        onFocusin: handleFocusin,\n        onFocusout: handleFocusout,\n        onContextmenu: handleContextmenu\n      });\n      return createVNode(Fragment, null, [props.autoFixPosition ? createVNode(ResizeObserver, {\n        \"onResize\": onTargetResize\n      }, {\n        default: () => [children.value]\n      }) : children.value, createVNode(ClientOnly, null, {\n        default: () => [createVNode(Teleport, {\n          \"to\": teleportContainer.value,\n          \"disabled\": !props.renderToBody\n        }, {\n          default: () => [(!props.unmountOnClose || computedVisible.value || mounted.value) && !hidePopup.value && createVNode(ResizeObserver, {\n            \"onResize\": handleResize\n          }, {\n            default: () => [createVNode(\"div\", mergeProps({\n              \"ref\": popupRef,\n              \"class\": [`${prefixCls}-popup`, `${prefixCls}-position-${popupPosition.value}`],\n              \"style\": __spreadProps(__spreadValues({}, popupStyle.value), {\n                zIndex: zIndex.value,\n                pointerEvents: isAnimation.value ? \"none\" : \"auto\"\n              }),\n              \"trigger-placement\": popupPosition.value,\n              \"onMouseenter\": handleMouseEnterWithContext,\n              \"onMouseleave\": handleMouseLeaveWithContext,\n              \"onMousedown\": handlePopupMouseDown\n            }, popupAttrs.value), [createVNode(Transition, {\n              \"name\": props.animationName,\n              \"duration\": props.duration,\n              \"appear\": true,\n              \"onBeforeEnter\": onAnimationStart,\n              \"onAfterEnter\": handleShow,\n              \"onBeforeLeave\": onAnimationStart,\n              \"onAfterLeave\": handleHide\n            }, {\n              default: () => {\n                var _a2;\n\n                return [withDirectives(createVNode(\"div\", {\n                  \"class\": `${prefixCls}-popup-wrapper`,\n                  \"style\": transformStyle.value\n                }, [createVNode(\"div\", {\n                  \"class\": [`${prefixCls}-content`, props.contentClass],\n                  \"style\": props.contentStyle\n                }, [(_a2 = slots.content) == null ? void 0 : _a2.call(slots)]), props.showArrow && createVNode(\"div\", {\n                  \"ref\": arrowRef,\n                  \"class\": [`${prefixCls}-arrow`, props.arrowClass],\n                  \"style\": arrowStyle.value\n                }, null)]), [[vShow, computedVisible.value]])];\n              }\n            })])]\n          })]\n        })]\n      })]);\n    };\n  }\n\n});\n\nexport { _Trigger as default };","map":{"version":3,"names":["__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","defineComponent","toRefs","computed","inject","ref","provide","reactive","watch","onMounted","onUpdated","onBeforeUnmount","createVNode","Fragment","Teleport","mergeProps","Transition","withDirectives","vShow","nextTick","getPrefixCls","getScrollElements","getElementScrollRect","getPopupStyle","getTransformOrigin","getArrowStyle","ResizeObserver","on","off","isEmptyChildren","mergeFirstChild","usePickSlots","triggerInjectionKey","throttleByRaf","usePopupManager","useResizeObserver","ClientOnly","useTeleportContainer","configProviderInjectionKey","useFirstElement","omit","TRIGGER_EVENTS","_Trigger","name","inheritAttrs","props","popupVisible","type","Boolean","default","defaultPopupVisible","trigger","String","Array","position","disabled","popupOffset","Number","popupTranslate","showArrow","alignPoint","popupHoverStay","blurToClose","clickToClose","clickOutsideToClose","unmountOnClose","contentClass","contentStyle","arrowClass","arrowStyle","popupStyle","animationName","duration","mouseEnterDelay","mouseLeaveDelay","focusDelay","autoFitPopupWidth","autoFitPopupMinWidth","autoFixPosition","popupContainer","updateAtScroll","autoFitTransformOrigin","hideEmpty","openedClass","autoFitPosition","renderToBody","preventFocus","emits","visible","setup","emit","slots","attrs","prefixCls","popupAttrs","configCtx","triggerMethods","concat","childrenRefs","Set","triggerCtx","children","firstElement","popupRef","popupPosition","transformStyle","arrowRef","mousePosition","top","left","computedVisible","_a","teleportContainer","containerRef","documentContainer","zIndex","delayTimer","outsideListener","cleanDelayTimer","window","clearTimeout","updateMousePosition","e","pageX","pageY","updatePopupStyle","containerRect","getBoundingClientRect","triggerRect","bottom","right","scrollTop","scrollBottom","scrollLeft","scrollRight","width","height","popupRect","style","offset","translate","customStyle","transformOrigin","minWidth","changeVisible","delay","update","setTimeout","handleClick","onClick","includes","handleMouseEnter","onMouseenter","handleMouseEnterWithContext","handleMouseLeave","onMouseleave","handleMouseLeaveWithContext","handleFocusin","onFocusin","handleFocusout","onFocusout","handleContextmenu","onContextmenu","preventDefault","addChildRef","ref2","add","removeChildRef","delete","removeOutsideListener","document","documentElement","handleOutsideClick","contentSlot","hidePopup","_b","_c","contains","target","item","handleScroll","handleResize","onTargetResize","handlePopupMouseDown","triggerCls","scrollElements","addEventListener","removeEventListener","mounted","createResizeObserver","destroyResizeObserver","elementRef","onResize","isAnimation","onAnimationStart","handleShow","handleHide","class","pointerEvents","_a2","content"],"sources":["/www/wwwroot/admin/node_modules/@arco-design/web-vue/es/trigger/trigger.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nimport { defineComponent, toRefs, computed, inject, ref, provide, reactive, watch, onMounted, onUpdated, onBeforeUnmount, createVNode, Fragment, Teleport, mergeProps, Transition, withDirectives, vShow, nextTick } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { getScrollElements, getElementScrollRect, getPopupStyle, getTransformOrigin, getArrowStyle } from \"./utils.js\";\nimport ResizeObserver from \"../_components/resize-observer-v2.js\";\nimport { on, off } from \"../_utils/dom.js\";\nimport { isEmptyChildren, mergeFirstChild } from \"../_utils/vue-utils.js\";\nimport usePickSlots from \"../_hooks/use-pick-slots.js\";\nimport { triggerInjectionKey } from \"./context.js\";\nimport { throttleByRaf } from \"../_utils/throttle-by-raf.js\";\nimport usePopupManager from \"../_hooks/use-popup-manager.js\";\nimport { useResizeObserver } from \"../_hooks/use-resize-observer.js\";\nimport ClientOnly from \"../_components/client-only.js\";\nimport { useTeleportContainer } from \"../_hooks/use-teleport-container.js\";\nimport { configProviderInjectionKey } from \"../config-provider/context.js\";\nimport { useFirstElement } from \"../_hooks/use-first-element.js\";\nimport { omit } from \"../_utils/omit.js\";\nconst TRIGGER_EVENTS = [\"onClick\", \"onMouseenter\", \"onMouseleave\", \"onFocusin\", \"onFocusout\", \"onContextmenu\"];\nvar _Trigger = defineComponent({\n  name: \"Trigger\",\n  inheritAttrs: false,\n  props: {\n    popupVisible: {\n      type: Boolean,\n      default: void 0\n    },\n    defaultPopupVisible: {\n      type: Boolean,\n      default: false\n    },\n    trigger: {\n      type: [String, Array],\n      default: \"hover\"\n    },\n    position: {\n      type: String,\n      default: \"bottom\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    popupOffset: {\n      type: Number,\n      default: 0\n    },\n    popupTranslate: {\n      type: [Array, Object]\n    },\n    showArrow: {\n      type: Boolean,\n      default: false\n    },\n    alignPoint: {\n      type: Boolean,\n      default: false\n    },\n    popupHoverStay: {\n      type: Boolean,\n      default: true\n    },\n    blurToClose: {\n      type: Boolean,\n      default: true\n    },\n    clickToClose: {\n      type: Boolean,\n      default: true\n    },\n    clickOutsideToClose: {\n      type: Boolean,\n      default: true\n    },\n    unmountOnClose: {\n      type: Boolean,\n      default: true\n    },\n    contentClass: {\n      type: [String, Array, Object]\n    },\n    contentStyle: {\n      type: Object\n    },\n    arrowClass: {\n      type: [String, Array, Object]\n    },\n    arrowStyle: {\n      type: Object\n    },\n    popupStyle: {\n      type: Object\n    },\n    animationName: {\n      type: String,\n      default: \"fade-in\"\n    },\n    duration: {\n      type: [Number, Object]\n    },\n    mouseEnterDelay: {\n      type: Number,\n      default: 100\n    },\n    mouseLeaveDelay: {\n      type: Number,\n      default: 100\n    },\n    focusDelay: {\n      type: Number,\n      default: 0\n    },\n    autoFitPopupWidth: {\n      type: Boolean,\n      default: false\n    },\n    autoFitPopupMinWidth: {\n      type: Boolean,\n      default: false\n    },\n    autoFixPosition: {\n      type: Boolean,\n      default: true\n    },\n    popupContainer: {\n      type: [String, Object]\n    },\n    updateAtScroll: {\n      type: Boolean,\n      default: false\n    },\n    autoFitTransformOrigin: {\n      type: Boolean,\n      default: false\n    },\n    hideEmpty: {\n      type: Boolean,\n      default: false\n    },\n    openedClass: {\n      type: [String, Array, Object]\n    },\n    autoFitPosition: {\n      type: Boolean,\n      default: true\n    },\n    renderToBody: {\n      type: Boolean,\n      default: true\n    },\n    preventFocus: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: {\n    \"update:popupVisible\": (visible) => true,\n    \"popupVisibleChange\": (visible) => true,\n    \"show\": () => true,\n    \"hide\": () => true,\n    \"resize\": () => true\n  },\n  setup(props, {\n    emit,\n    slots,\n    attrs\n  }) {\n    const {\n      popupContainer\n    } = toRefs(props);\n    const prefixCls = getPrefixCls(\"trigger\");\n    const popupAttrs = computed(() => omit(attrs, TRIGGER_EVENTS));\n    const configCtx = inject(configProviderInjectionKey, void 0);\n    const triggerMethods = computed(() => [].concat(props.trigger));\n    const childrenRefs = new Set();\n    const triggerCtx = inject(triggerInjectionKey, void 0);\n    const {\n      children,\n      firstElement\n    } = useFirstElement();\n    const popupRef = ref();\n    const popupVisible = ref(props.defaultPopupVisible);\n    const popupPosition = ref(props.position);\n    const popupStyle = ref({});\n    const transformStyle = ref({});\n    const arrowStyle = ref({});\n    const arrowRef = ref();\n    const mousePosition = ref({\n      top: 0,\n      left: 0\n    });\n    const computedVisible = computed(() => {\n      var _a;\n      return (_a = props.popupVisible) != null ? _a : popupVisible.value;\n    });\n    const {\n      teleportContainer,\n      containerRef\n    } = useTeleportContainer({\n      popupContainer,\n      visible: computedVisible,\n      documentContainer: true\n    });\n    const {\n      zIndex\n    } = usePopupManager(\"popup\", {\n      visible: computedVisible\n    });\n    let delayTimer = 0;\n    let outsideListener = false;\n    const cleanDelayTimer = () => {\n      if (delayTimer) {\n        window.clearTimeout(delayTimer);\n        delayTimer = 0;\n      }\n    };\n    const updateMousePosition = (e) => {\n      if (props.alignPoint) {\n        const {\n          pageX,\n          pageY\n        } = e;\n        mousePosition.value = {\n          top: pageY,\n          left: pageX\n        };\n      }\n    };\n    const updatePopupStyle = () => {\n      if (!firstElement.value || !popupRef.value || !containerRef.value) {\n        return;\n      }\n      const containerRect = containerRef.value.getBoundingClientRect();\n      const triggerRect = props.alignPoint ? {\n        top: mousePosition.value.top,\n        bottom: mousePosition.value.top,\n        left: mousePosition.value.left,\n        right: mousePosition.value.left,\n        scrollTop: mousePosition.value.top,\n        scrollBottom: mousePosition.value.top,\n        scrollLeft: mousePosition.value.left,\n        scrollRight: mousePosition.value.left,\n        width: 0,\n        height: 0\n      } : getElementScrollRect(firstElement.value, containerRect);\n      const popupRect = getElementScrollRect(popupRef.value, containerRect);\n      const {\n        style,\n        position\n      } = getPopupStyle(props.position, containerRect, triggerRect, popupRect, {\n        offset: props.popupOffset,\n        translate: props.popupTranslate,\n        customStyle: props.popupStyle,\n        autoFitPosition: props.autoFitPosition\n      });\n      if (props.autoFitTransformOrigin) {\n        transformStyle.value = {\n          transformOrigin: getTransformOrigin(position)\n        };\n      }\n      if (props.autoFitPopupMinWidth) {\n        style.minWidth = `${triggerRect.width}px`;\n      } else if (props.autoFitPopupWidth) {\n        style.width = `${triggerRect.width}px`;\n      }\n      if (popupPosition.value !== position) {\n        popupPosition.value = position;\n      }\n      popupStyle.value = style;\n      if (props.showArrow) {\n        arrowStyle.value = getArrowStyle(position, triggerRect, popupRect, {\n          customStyle: props.arrowStyle\n        });\n      }\n    };\n    const changeVisible = (visible, delay) => {\n      if (visible === computedVisible.value && delayTimer === 0) {\n        return;\n      }\n      const update = () => {\n        popupVisible.value = visible;\n        emit(\"update:popupVisible\", visible);\n        emit(\"popupVisibleChange\", visible);\n        if (visible) {\n          nextTick(() => {\n            updatePopupStyle();\n          });\n        }\n      };\n      if (delay) {\n        cleanDelayTimer();\n        if (visible !== computedVisible.value) {\n          delayTimer = window.setTimeout(update, delay);\n        }\n      } else {\n        update();\n      }\n    };\n    const handleClick = (e) => {\n      var _a;\n      (_a = attrs.onClick) == null ? void 0 : _a.call(attrs, e);\n      if (props.disabled || computedVisible.value && !props.clickToClose) {\n        return;\n      }\n      if (triggerMethods.value.includes(\"click\")) {\n        updateMousePosition(e);\n        changeVisible(!computedVisible.value);\n      } else if (triggerMethods.value.includes(\"contextMenu\") && computedVisible.value) {\n        changeVisible(false);\n      }\n    };\n    const handleMouseEnter = (e) => {\n      var _a;\n      (_a = attrs.onMouseenter) == null ? void 0 : _a.call(attrs, e);\n      if (props.disabled || !triggerMethods.value.includes(\"hover\")) {\n        return;\n      }\n      updateMousePosition(e);\n      changeVisible(true, props.mouseEnterDelay);\n    };\n    const handleMouseEnterWithContext = (e) => {\n      triggerCtx == null ? void 0 : triggerCtx.onMouseenter(e);\n      handleMouseEnter(e);\n    };\n    const handleMouseLeave = (e) => {\n      var _a;\n      (_a = attrs.onMouseleave) == null ? void 0 : _a.call(attrs, e);\n      if (props.disabled || !triggerMethods.value.includes(\"hover\")) {\n        return;\n      }\n      changeVisible(false, props.mouseLeaveDelay);\n    };\n    const handleMouseLeaveWithContext = (e) => {\n      triggerCtx == null ? void 0 : triggerCtx.onMouseleave(e);\n      handleMouseLeave(e);\n    };\n    const handleFocusin = (e) => {\n      var _a;\n      (_a = attrs.onFocusin) == null ? void 0 : _a.call(attrs, e);\n      if (props.disabled || !triggerMethods.value.includes(\"focus\")) {\n        return;\n      }\n      changeVisible(true, props.focusDelay);\n    };\n    const handleFocusout = (e) => {\n      var _a;\n      (_a = attrs.onFocusout) == null ? void 0 : _a.call(attrs, e);\n      if (props.disabled || !triggerMethods.value.includes(\"focus\")) {\n        return;\n      }\n      if (!props.blurToClose) {\n        return;\n      }\n      changeVisible(false);\n    };\n    const handleContextmenu = (e) => {\n      var _a;\n      (_a = attrs.onContextmenu) == null ? void 0 : _a.call(attrs, e);\n      if (props.disabled || !triggerMethods.value.includes(\"contextMenu\") || computedVisible.value && !props.clickToClose) {\n        return;\n      }\n      updateMousePosition(e);\n      changeVisible(!computedVisible.value);\n      e.preventDefault();\n    };\n    const addChildRef = (ref2) => {\n      childrenRefs.add(ref2);\n      triggerCtx == null ? void 0 : triggerCtx.addChildRef(ref2);\n    };\n    const removeChildRef = (ref2) => {\n      childrenRefs.delete(ref2);\n      triggerCtx == null ? void 0 : triggerCtx.removeChildRef(ref2);\n    };\n    provide(triggerInjectionKey, reactive({\n      onMouseenter: handleMouseEnterWithContext,\n      onMouseleave: handleMouseLeaveWithContext,\n      addChildRef,\n      removeChildRef\n    }));\n    const removeOutsideListener = () => {\n      off(document.documentElement, \"mousedown\", handleOutsideClick);\n      outsideListener = false;\n    };\n    const contentSlot = usePickSlots(slots, \"content\");\n    const hidePopup = computed(() => {\n      var _a;\n      return props.hideEmpty && isEmptyChildren((_a = contentSlot.value) == null ? void 0 : _a.call(contentSlot));\n    });\n    const handleOutsideClick = (e) => {\n      var _a, _b, _c;\n      if (((_a = firstElement.value) == null ? void 0 : _a.contains(e.target)) || ((_b = popupRef.value) == null ? void 0 : _b.contains(e.target))) {\n        return;\n      }\n      for (const item of childrenRefs) {\n        if ((_c = item.value) == null ? void 0 : _c.contains(e.target)) {\n          return;\n        }\n      }\n      removeOutsideListener();\n      changeVisible(false);\n    };\n    const handleScroll = throttleByRaf(() => {\n      if (computedVisible.value) {\n        updatePopupStyle();\n      }\n    });\n    const handleResize = () => {\n      if (computedVisible.value) {\n        updatePopupStyle();\n      }\n    };\n    const onTargetResize = () => {\n      handleResize();\n      emit(\"resize\");\n    };\n    const handlePopupMouseDown = (e) => {\n      if (props.preventFocus) {\n        e.preventDefault();\n      }\n    };\n    triggerCtx == null ? void 0 : triggerCtx.addChildRef(popupRef);\n    const triggerCls = computed(() => {\n      return computedVisible.value ? props.openedClass : void 0;\n    });\n    let scrollElements;\n    watch(computedVisible, (value) => {\n      if (props.clickOutsideToClose) {\n        if (!value && outsideListener) {\n          removeOutsideListener();\n        } else if (value && !outsideListener) {\n          on(document.documentElement, \"mousedown\", handleOutsideClick);\n          outsideListener = true;\n        }\n      }\n      if (props.updateAtScroll || (configCtx == null ? void 0 : configCtx.updateAtScroll)) {\n        if (value) {\n          scrollElements = getScrollElements(firstElement.value);\n          for (const item of scrollElements) {\n            item.addEventListener(\"scroll\", handleScroll);\n          }\n        } else if (scrollElements) {\n          for (const item of scrollElements) {\n            item.removeEventListener(\"scroll\", handleScroll);\n          }\n          scrollElements = void 0;\n        }\n      }\n      if (value) {\n        mounted.value = true;\n      }\n    });\n    watch(() => [props.autoFitPopupWidth, props.autoFitPopupMinWidth], () => {\n      if (computedVisible.value) {\n        updatePopupStyle();\n      }\n    });\n    const {\n      createResizeObserver,\n      destroyResizeObserver\n    } = useResizeObserver({\n      elementRef: containerRef,\n      onResize: handleResize\n    });\n    onMounted(() => {\n      createResizeObserver();\n      if (computedVisible.value) {\n        updatePopupStyle();\n        if (props.clickOutsideToClose && !outsideListener) {\n          on(document.documentElement, \"mousedown\", handleOutsideClick);\n          outsideListener = true;\n        }\n        if (props.updateAtScroll || (configCtx == null ? void 0 : configCtx.updateAtScroll)) {\n          scrollElements = getScrollElements(firstElement.value);\n          for (const item of scrollElements) {\n            item.addEventListener(\"scroll\", handleScroll);\n          }\n        }\n      }\n    });\n    onUpdated(() => {\n      if (computedVisible.value) {\n        updatePopupStyle();\n      }\n    });\n    onBeforeUnmount(() => {\n      triggerCtx == null ? void 0 : triggerCtx.removeChildRef(popupRef);\n      destroyResizeObserver();\n      if (outsideListener) {\n        removeOutsideListener();\n      }\n      if (scrollElements) {\n        for (const item of scrollElements) {\n          item.removeEventListener(\"scroll\", handleScroll);\n        }\n        scrollElements = void 0;\n      }\n    });\n    const mounted = ref(computedVisible.value);\n    const isAnimation = ref(false);\n    const onAnimationStart = () => {\n      isAnimation.value = true;\n    };\n    const handleShow = () => {\n      isAnimation.value = false;\n      if (computedVisible.value) {\n        emit(\"show\");\n      }\n    };\n    const handleHide = () => {\n      isAnimation.value = false;\n      if (!computedVisible.value) {\n        mounted.value = false;\n        emit(\"hide\");\n      }\n    };\n    return () => {\n      var _a, _b;\n      children.value = (_b = (_a = slots.default) == null ? void 0 : _a.call(slots)) != null ? _b : [];\n      mergeFirstChild(children.value, {\n        class: triggerCls.value,\n        onClick: handleClick,\n        onMouseenter: handleMouseEnter,\n        onMouseleave: handleMouseLeave,\n        onFocusin: handleFocusin,\n        onFocusout: handleFocusout,\n        onContextmenu: handleContextmenu\n      });\n      return createVNode(Fragment, null, [props.autoFixPosition ? createVNode(ResizeObserver, {\n        \"onResize\": onTargetResize\n      }, {\n        default: () => [children.value]\n      }) : children.value, createVNode(ClientOnly, null, {\n        default: () => [createVNode(Teleport, {\n          \"to\": teleportContainer.value,\n          \"disabled\": !props.renderToBody\n        }, {\n          default: () => [(!props.unmountOnClose || computedVisible.value || mounted.value) && !hidePopup.value && createVNode(ResizeObserver, {\n            \"onResize\": handleResize\n          }, {\n            default: () => [createVNode(\"div\", mergeProps({\n              \"ref\": popupRef,\n              \"class\": [`${prefixCls}-popup`, `${prefixCls}-position-${popupPosition.value}`],\n              \"style\": __spreadProps(__spreadValues({}, popupStyle.value), {\n                zIndex: zIndex.value,\n                pointerEvents: isAnimation.value ? \"none\" : \"auto\"\n              }),\n              \"trigger-placement\": popupPosition.value,\n              \"onMouseenter\": handleMouseEnterWithContext,\n              \"onMouseleave\": handleMouseLeaveWithContext,\n              \"onMousedown\": handlePopupMouseDown\n            }, popupAttrs.value), [createVNode(Transition, {\n              \"name\": props.animationName,\n              \"duration\": props.duration,\n              \"appear\": true,\n              \"onBeforeEnter\": onAnimationStart,\n              \"onAfterEnter\": handleShow,\n              \"onBeforeLeave\": onAnimationStart,\n              \"onAfterLeave\": handleHide\n            }, {\n              default: () => {\n                var _a2;\n                return [withDirectives(createVNode(\"div\", {\n                  \"class\": `${prefixCls}-popup-wrapper`,\n                  \"style\": transformStyle.value\n                }, [createVNode(\"div\", {\n                  \"class\": [`${prefixCls}-content`, props.contentClass],\n                  \"style\": props.contentStyle\n                }, [(_a2 = slots.content) == null ? void 0 : _a2.call(slots)]), props.showArrow && createVNode(\"div\", {\n                  \"ref\": arrowRef,\n                  \"class\": [`${prefixCls}-arrow`, props.arrowClass],\n                  \"style\": arrowStyle.value\n                }, null)]), [[vShow, computedVisible.value]])];\n              }\n            })])]\n          })]\n        })]\n      })]);\n    };\n  }\n});\nexport { _Trigger as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}