{"ast":null,"code":"import { defineComponent, toRefs, computed, reactive, watchEffect, provide, openBlock, createElementBlock, normalizeClass, normalizeStyle, renderSlot } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { GridContextInjectionKey, GridDataCollectorInjectionKey } from \"./context.js\";\nimport { useResponsiveState } from \"./hook/use-responsive-state.js\";\nimport { setItemVisible } from \"./utils/index.js\";\nimport _export_sfc from \"../_virtual/plugin-vue_export-helper.js\";\n\nconst _sfc_main = defineComponent({\n  name: \"Grid\",\n  props: {\n    cols: {\n      type: [Number, Object],\n      default: 24\n    },\n    rowGap: {\n      type: [Number, Object],\n      default: 0\n    },\n    colGap: {\n      type: [Number, Object],\n      default: 0\n    },\n    collapsed: {\n      type: Boolean,\n      default: false\n    },\n    collapsedRows: {\n      type: Number,\n      default: 1\n    }\n  },\n\n  setup(props) {\n    const {\n      cols: propCols,\n      rowGap: propRowGap,\n      colGap: propColGap,\n      collapsedRows,\n      collapsed\n    } = toRefs(props);\n    const cols = useResponsiveState(propCols, 24);\n    const colGap = useResponsiveState(propColGap, 0);\n    const rowGap = useResponsiveState(propRowGap, 0);\n    const prefixCls = getPrefixCls(\"grid\");\n    const classNames = computed(() => [prefixCls]);\n    const style = computed(() => [{\n      \"gap\": `${rowGap.value}px ${colGap.value}px`,\n      \"grid-template-columns\": `repeat(${cols.value}, minmax(0px, 1fr))`\n    }]);\n    const itemDataMap = reactive(new Map());\n    const itemDataList = computed(() => {\n      const list = [];\n\n      for (const [index, itemData] of itemDataMap.entries()) {\n        list[index] = itemData;\n      }\n\n      return list;\n    });\n    const gridContext = reactive({\n      overflow: false,\n      displayIndexList: [],\n      cols: cols.value,\n      colGap: colGap.value\n    });\n    watchEffect(() => {\n      gridContext.cols = cols.value;\n      gridContext.colGap = colGap.value;\n    });\n    watchEffect(() => {\n      const displayInfo = setItemVisible({\n        cols: cols.value,\n        collapsed: collapsed.value,\n        collapsedRows: collapsedRows.value,\n        itemDataList: itemDataList.value\n      });\n      gridContext.overflow = displayInfo.overflow;\n      gridContext.displayIndexList = displayInfo.displayIndexList;\n    });\n    provide(GridContextInjectionKey, gridContext);\n    provide(GridDataCollectorInjectionKey, {\n      collectItemData(index, itemData) {\n        itemDataMap.set(index, itemData);\n      },\n\n      removeItemData(index) {\n        itemDataMap.delete(index);\n      }\n\n    });\n    return {\n      classNames,\n      style\n    };\n  }\n\n});\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass(_ctx.classNames),\n    style: normalizeStyle(_ctx.style)\n  }, [renderSlot(_ctx.$slots, \"default\")], 6);\n}\n\nvar _Grid = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { _Grid as default };","map":{"version":3,"names":["defineComponent","toRefs","computed","reactive","watchEffect","provide","openBlock","createElementBlock","normalizeClass","normalizeStyle","renderSlot","getPrefixCls","GridContextInjectionKey","GridDataCollectorInjectionKey","useResponsiveState","setItemVisible","_export_sfc","_sfc_main","name","props","cols","type","Number","Object","default","rowGap","colGap","collapsed","Boolean","collapsedRows","setup","propCols","propRowGap","propColGap","prefixCls","classNames","style","value","itemDataMap","Map","itemDataList","list","index","itemData","entries","gridContext","overflow","displayIndexList","displayInfo","collectItemData","set","removeItemData","delete","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","class","$slots","_Grid"],"sources":["/www/wwwroot/admin/node_modules/@arco-design/web-vue/es/grid/grid.js"],"sourcesContent":["import { defineComponent, toRefs, computed, reactive, watchEffect, provide, openBlock, createElementBlock, normalizeClass, normalizeStyle, renderSlot } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { GridContextInjectionKey, GridDataCollectorInjectionKey } from \"./context.js\";\nimport { useResponsiveState } from \"./hook/use-responsive-state.js\";\nimport { setItemVisible } from \"./utils/index.js\";\nimport _export_sfc from \"../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"Grid\",\n  props: {\n    cols: {\n      type: [Number, Object],\n      default: 24\n    },\n    rowGap: {\n      type: [Number, Object],\n      default: 0\n    },\n    colGap: {\n      type: [Number, Object],\n      default: 0\n    },\n    collapsed: {\n      type: Boolean,\n      default: false\n    },\n    collapsedRows: {\n      type: Number,\n      default: 1\n    }\n  },\n  setup(props) {\n    const {\n      cols: propCols,\n      rowGap: propRowGap,\n      colGap: propColGap,\n      collapsedRows,\n      collapsed\n    } = toRefs(props);\n    const cols = useResponsiveState(propCols, 24);\n    const colGap = useResponsiveState(propColGap, 0);\n    const rowGap = useResponsiveState(propRowGap, 0);\n    const prefixCls = getPrefixCls(\"grid\");\n    const classNames = computed(() => [prefixCls]);\n    const style = computed(() => [\n      {\n        \"gap\": `${rowGap.value}px ${colGap.value}px`,\n        \"grid-template-columns\": `repeat(${cols.value}, minmax(0px, 1fr))`\n      }\n    ]);\n    const itemDataMap = reactive(new Map());\n    const itemDataList = computed(() => {\n      const list = [];\n      for (const [index, itemData] of itemDataMap.entries()) {\n        list[index] = itemData;\n      }\n      return list;\n    });\n    const gridContext = reactive({\n      overflow: false,\n      displayIndexList: [],\n      cols: cols.value,\n      colGap: colGap.value\n    });\n    watchEffect(() => {\n      gridContext.cols = cols.value;\n      gridContext.colGap = colGap.value;\n    });\n    watchEffect(() => {\n      const displayInfo = setItemVisible({\n        cols: cols.value,\n        collapsed: collapsed.value,\n        collapsedRows: collapsedRows.value,\n        itemDataList: itemDataList.value\n      });\n      gridContext.overflow = displayInfo.overflow;\n      gridContext.displayIndexList = displayInfo.displayIndexList;\n    });\n    provide(GridContextInjectionKey, gridContext);\n    provide(GridDataCollectorInjectionKey, {\n      collectItemData(index, itemData) {\n        itemDataMap.set(index, itemData);\n      },\n      removeItemData(index) {\n        itemDataMap.delete(index);\n      }\n    });\n    return {\n      classNames,\n      style\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass(_ctx.classNames),\n    style: normalizeStyle(_ctx.style)\n  }, [\n    renderSlot(_ctx.$slots, \"default\")\n  ], 6);\n}\nvar _Grid = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _Grid as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}