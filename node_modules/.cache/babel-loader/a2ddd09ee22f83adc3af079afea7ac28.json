{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\nimport { defineComponent, toRefs, computed, ref, watch, nextTick, watchEffect, createVNode, mergeProps, isVNode } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { isUndefined, isObject, isFunction, isArray, isNumber, isNull } from \"../_utils/is.js\";\nimport { getKeyFromValue, isGroupOptionInfo, isValidOption } from \"./utils.js\";\nimport Trigger from \"../trigger/index.js\";\nimport SelectView from \"../_components/select-view/select-view.js\";\nimport SelectDropdown from \"./select-dropdown.js\";\nimport Option from \"./option.js\";\nimport Optgroup from \"./optgroup.js\";\nimport VirtualList from \"../_components/virtual-list/virtual-list.js\";\nimport { useSelect } from \"./hooks/use-select.js\";\nimport { useTrigger } from \"../_hooks/use-trigger.js\";\nimport { useFormItem } from \"../_hooks/use-form-item.js\";\nimport { debounce } from \"../_utils/debounce.js\";\n\nfunction _isSlot(s) {\n  return typeof s === \"function\" || Object.prototype.toString.call(s) === \"[object Object]\" && !isVNode(s);\n}\n\nconst DEFAULT_FIELD_NAMES = {\n  value: \"value\",\n  label: \"label\",\n  disabled: \"disabled\",\n  tagProps: \"tagProps\",\n  render: \"render\"\n};\n\nvar _Select = defineComponent({\n  name: \"Select\",\n  components: {\n    Trigger,\n    SelectView\n  },\n  inheritAttrs: false,\n  props: {\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    modelValue: {\n      type: [String, Number, Object, Array]\n    },\n    defaultValue: {\n      type: [String, Number, Object, Array],\n      default: props => isUndefined(props.multiple) ? \"\" : []\n    },\n    inputValue: {\n      type: String\n    },\n    defaultInputValue: {\n      type: String,\n      default: \"\"\n    },\n    size: {\n      type: String\n    },\n    placeholder: String,\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    error: {\n      type: Boolean,\n      default: false\n    },\n    allowClear: {\n      type: Boolean,\n      default: false\n    },\n    allowSearch: {\n      type: [Boolean, Object],\n      default: props => Boolean(props.multiple)\n    },\n    allowCreate: {\n      type: Boolean,\n      default: false\n    },\n    maxTagCount: {\n      type: Number,\n      default: 0\n    },\n    popupContainer: {\n      type: [String, Object]\n    },\n    bordered: {\n      type: Boolean,\n      default: true\n    },\n    defaultActiveFirstOption: {\n      type: Boolean,\n      default: true\n    },\n    popupVisible: {\n      type: Boolean,\n      default: void 0\n    },\n    defaultPopupVisible: {\n      type: Boolean,\n      default: false\n    },\n    unmountOnClose: {\n      type: Boolean,\n      default: false\n    },\n    filterOption: {\n      type: [Boolean, Function],\n      default: true\n    },\n    options: {\n      type: Array,\n      default: () => []\n    },\n    virtualListProps: {\n      type: Object\n    },\n    triggerProps: {\n      type: Object\n    },\n    formatLabel: {\n      type: Function\n    },\n    fallbackOption: {\n      type: [Boolean, Function],\n      default: true\n    },\n    showExtraOptions: {\n      type: Boolean,\n      default: true\n    },\n    valueKey: {\n      type: String,\n      default: \"value\"\n    },\n    searchDelay: {\n      type: Number,\n      default: 500\n    },\n    limit: {\n      type: Number,\n      default: 0\n    },\n    fieldNames: {\n      type: Object\n    }\n  },\n  emits: {\n    \"update:modelValue\": value => true,\n    \"update:inputValue\": inputValue => true,\n    \"update:popupVisible\": visible => true,\n    \"change\": value => true,\n    \"inputValueChange\": inputValue => true,\n    \"popupVisibleChange\": visible => true,\n    \"clear\": ev => true,\n    \"remove\": removed => true,\n    \"search\": inputValue => true,\n    \"dropdownScroll\": ev => true,\n    \"dropdownReachBottom\": ev => true,\n    \"exceedLimit\": (value, ev) => true\n  },\n\n  setup(props, {\n    slots,\n    emit,\n    attrs\n  }) {\n    const {\n      size,\n      disabled,\n      error,\n      options,\n      filterOption,\n      valueKey,\n      multiple,\n      popupVisible,\n      showExtraOptions,\n      modelValue,\n      fieldNames,\n      loading\n    } = toRefs(props);\n    const prefixCls = getPrefixCls(\"select\");\n    const {\n      mergedSize,\n      mergedDisabled,\n      mergedError,\n      eventHandlers\n    } = useFormItem({\n      size,\n      disabled,\n      error\n    });\n    const component = computed(() => props.virtualListProps ? \"div\" : \"li\");\n    const retainInputValue = computed(() => isObject(props.allowSearch) && Boolean(props.allowSearch.retainInputValue));\n    computed(() => {\n      if (isFunction(props.formatLabel)) {\n        return data => {\n          const optionInfo = optionInfoMap.get(data.value);\n          return props.formatLabel(optionInfo);\n        };\n      }\n\n      return void 0;\n    });\n    const dropdownRef = ref();\n    const optionRefs = ref({});\n    const virtualListRef = ref();\n    const {\n      computedPopupVisible,\n      handlePopupVisibleChange\n    } = useTrigger({\n      popupVisible,\n      emit\n    });\n\n    const _value = ref(props.defaultValue);\n\n    const computedValueObjects = computed(() => {\n      var _a;\n\n      const mergedValue = (_a = props.modelValue) != null ? _a : _value.value;\n      const valueArray = isArray(mergedValue) ? mergedValue : mergedValue || isNumber(mergedValue) ? [mergedValue] : [];\n      return valueArray.map(value => ({\n        value,\n        key: getKeyFromValue(value, props.valueKey)\n      }));\n    });\n    watch(modelValue, value => {\n      if (isUndefined(value) || isNull(value)) {\n        _value.value = multiple.value ? [] : \"\";\n      }\n    });\n    const computedValueKeys = computed(() => computedValueObjects.value.map(obj => obj.key));\n    const mergedFieldNames = computed(() => __spreadValues(__spreadValues({}, DEFAULT_FIELD_NAMES), fieldNames == null ? void 0 : fieldNames.value));\n\n    const getFallBackOption = value => {\n      if (isFunction(props.fallbackOption)) {\n        return props.fallbackOption(value);\n      }\n\n      return {\n        [mergedFieldNames.value.value]: value,\n        [mergedFieldNames.value.label]: String(isObject(value) ? value[valueKey == null ? void 0 : valueKey.value] : value)\n      };\n    };\n\n    const getExtraValueData = () => {\n      const valueArray = [];\n      const keyArray = [];\n\n      if (props.allowCreate || props.fallbackOption) {\n        for (const item of computedValueObjects.value) {\n          if (!keyArray.includes(item.key)) {\n            const optionInfo = optionInfoMap.get(item.key);\n\n            if (!optionInfo || optionInfo.origin === \"extraOptions\") {\n              valueArray.push(item);\n              keyArray.push(item.key);\n            }\n          }\n        }\n      }\n\n      if (props.allowCreate && computedInputValue.value) {\n        const key = getKeyFromValue(computedInputValue.value);\n\n        if (!keyArray.includes(key)) {\n          const optionInfo = optionInfoMap.get(key);\n\n          if (!optionInfo || optionInfo.origin === \"extraOptions\") {\n            valueArray.push({\n              value: computedInputValue.value,\n              key\n            });\n          }\n        }\n      }\n\n      return valueArray;\n    };\n\n    const extraValueObjects = ref([]);\n    const extraOptions = computed(() => extraValueObjects.value.map(obj => getFallBackOption(obj.value)));\n    nextTick(() => {\n      watchEffect(() => {\n        var _a;\n\n        const valueData = getExtraValueData();\n\n        if (valueData.length !== extraValueObjects.value.length) {\n          extraValueObjects.value = valueData;\n        } else if (valueData.length > 0) {\n          for (let i = 0; i < valueData.length; i++) {\n            if (valueData[i].key !== ((_a = extraValueObjects.value[i]) == null ? void 0 : _a.key)) {\n              extraValueObjects.value = valueData;\n              break;\n            }\n          }\n        }\n      });\n    });\n\n    const _inputValue = ref(\"\");\n\n    const computedInputValue = computed(() => {\n      var _a;\n\n      return (_a = props.inputValue) != null ? _a : _inputValue.value;\n    });\n    watch(computedPopupVisible, visible => {\n      if (!visible && !retainInputValue.value && computedInputValue.value) {\n        updateInputValue(\"\");\n      }\n    });\n\n    const getValueFromValueKeys = valueKeys => {\n      var _a, _b;\n\n      if (!props.multiple) {\n        return (_b = (_a = optionInfoMap.get(valueKeys[0])) == null ? void 0 : _a.value) != null ? _b : \"\";\n      }\n\n      return valueKeys.map(key => {\n        var _a2, _b2;\n\n        return (_b2 = (_a2 = optionInfoMap.get(key)) == null ? void 0 : _a2.value) != null ? _b2 : \"\";\n      });\n    };\n\n    const updateValue = valueKeys => {\n      var _a, _b;\n\n      const value = getValueFromValueKeys(valueKeys);\n      _value.value = value;\n      emit(\"update:modelValue\", value);\n      emit(\"change\", value);\n      (_b = (_a = eventHandlers.value) == null ? void 0 : _a.onChange) == null ? void 0 : _b.call(_a);\n    };\n\n    const updateInputValue = inputValue => {\n      _inputValue.value = inputValue;\n      emit(\"update:inputValue\", inputValue);\n      emit(\"inputValueChange\", inputValue);\n    };\n\n    const handleSelect = (key, ev) => {\n      if (props.multiple) {\n        if (!computedValueKeys.value.includes(key)) {\n          if (enabledOptionKeys.value.includes(key)) {\n            if (props.limit > 0 && computedValueKeys.value.length >= props.limit) {\n              const info = optionInfoMap.get(key);\n              emit(\"exceedLimit\", info == null ? void 0 : info.value, ev);\n            } else {\n              const valueKeys = computedValueKeys.value.concat(key);\n              updateValue(valueKeys);\n            }\n          }\n        } else {\n          const valueKeys = computedValueKeys.value.filter(_key => _key !== key);\n          updateValue(valueKeys);\n        }\n\n        if (!retainInputValue.value) {\n          updateInputValue(\"\");\n        }\n      } else {\n        if (key !== computedValueKeys.value[0]) {\n          updateValue([key]);\n        }\n\n        if (retainInputValue.value) {\n          const optionInfo = optionInfoMap.get(key);\n\n          if (optionInfo) {\n            updateInputValue(optionInfo.label);\n          }\n        }\n\n        handlePopupVisibleChange(false);\n      }\n    };\n\n    const handleSearch = debounce(value => {\n      emit(\"search\", value);\n    }, props.searchDelay);\n\n    const handleInputValueChange = inputValue => {\n      if (inputValue !== computedInputValue.value) {\n        if (!computedPopupVisible.value) {\n          handlePopupVisibleChange(true);\n        }\n\n        updateInputValue(inputValue);\n\n        if (props.allowSearch) {\n          handleSearch(inputValue);\n        }\n      }\n    };\n\n    const handleRemove = key => {\n      const optionInfo = optionInfoMap.get(key);\n      const newKeys = computedValueKeys.value.filter(_key => _key !== key);\n      updateValue(newKeys);\n      emit(\"remove\", optionInfo == null ? void 0 : optionInfo.value);\n    };\n\n    const handleClear = e => {\n      e == null ? void 0 : e.stopPropagation();\n      const newKeys = computedValueKeys.value.filter(key => {\n        var _a;\n\n        return (_a = optionInfoMap.get(key)) == null ? void 0 : _a.disabled;\n      });\n      updateValue(newKeys);\n      updateInputValue(\"\");\n      emit(\"clear\", e);\n    };\n\n    const handleDropdownScroll = e => {\n      emit(\"dropdownScroll\", e);\n    };\n\n    const handleDropdownReachBottom = e => {\n      emit(\"dropdownReachBottom\", e);\n    };\n\n    const {\n      validOptions,\n      optionInfoMap,\n      validOptionInfos,\n      enabledOptionKeys,\n      handleKeyDown\n    } = useSelect({\n      multiple,\n      options,\n      extraOptions,\n      inputValue: computedInputValue,\n      filterOption,\n      showExtraOptions,\n      component,\n      valueKey,\n      fieldNames,\n      loading,\n      popupVisible: computedPopupVisible,\n      valueKeys: computedValueKeys,\n      dropdownRef,\n      optionRefs,\n      virtualListRef,\n      onSelect: handleSelect,\n      onPopupVisibleChange: handlePopupVisibleChange\n    });\n    const selectViewValue = computed(() => {\n      var _a;\n\n      const result = [];\n\n      for (const item of computedValueObjects.value) {\n        const optionInfo = optionInfoMap.get(item.key);\n\n        if (optionInfo) {\n          result.push(__spreadProps(__spreadValues({}, optionInfo), {\n            value: item.key,\n            label: (_a = optionInfo == null ? void 0 : optionInfo.label) != null ? _a : String(isObject(item.value) ? item.value[valueKey == null ? void 0 : valueKey.value] : item.value),\n            closable: !(optionInfo == null ? void 0 : optionInfo.disabled),\n            tagProps: optionInfo == null ? void 0 : optionInfo.tagProps\n          }));\n        }\n      }\n\n      return result;\n    });\n\n    const getOptionContentFunc = optionInfo => {\n      if (isFunction(slots.option)) {\n        const optionSlot = slots.option;\n        return () => optionSlot({\n          data: optionInfo\n        });\n      }\n\n      if (isFunction(optionInfo.render)) {\n        return optionInfo.render;\n      }\n\n      return () => optionInfo.label;\n    };\n\n    const renderOption = optionInfo => {\n      if (isGroupOptionInfo(optionInfo)) {\n        let _slot;\n\n        return createVNode(Optgroup, {\n          \"key\": optionInfo.key,\n          \"label\": optionInfo.label\n        }, _isSlot(_slot = optionInfo.options.map(child => renderOption(child))) ? _slot : {\n          default: () => [_slot]\n        });\n      }\n\n      if (!isValidOption(optionInfo, {\n        inputValue: computedInputValue.value,\n        filterOption: filterOption == null ? void 0 : filterOption.value\n      })) {\n        return null;\n      }\n\n      return createVNode(Option, {\n        \"ref\": ref2 => {\n          if (ref2 == null ? void 0 : ref2.$el) {\n            optionRefs.value[optionInfo.key] = ref2.$el;\n          }\n        },\n        \"key\": optionInfo.key,\n        \"value\": optionInfo.value,\n        \"label\": optionInfo.label,\n        \"disabled\": optionInfo.disabled,\n        \"internal\": true\n      }, {\n        default: getOptionContentFunc(optionInfo)\n      });\n    };\n\n    const renderDropDown = () => {\n      return createVNode(SelectDropdown, {\n        \"ref\": dropdownRef,\n        \"loading\": props.loading,\n        \"empty\": validOptionInfos.value.length === 0,\n        \"virtualList\": Boolean(props.virtualListProps),\n        \"onScroll\": handleDropdownScroll,\n        \"onReachBottom\": handleDropdownReachBottom\n      }, {\n        \"default\": () => {\n          var _a, _b;\n\n          return [...((_b = (_a = slots.default) == null ? void 0 : _a.call(slots)) != null ? _b : []), ...validOptions.value.map(renderOption)];\n        },\n        \"virtual-list\": () => createVNode(VirtualList, mergeProps(props.virtualListProps, {\n          \"ref\": virtualListRef,\n          \"data\": validOptions.value\n        }), {\n          item: ({\n            item\n          }) => renderOption(item)\n        }),\n        \"empty\": slots.empty,\n        \"footer\": slots.footer\n      });\n    };\n\n    const renderLabel = ({\n      data\n    }) => {\n      var _a, _b, _c;\n\n      if (slots.label || isFunction(props.formatLabel)) {\n        const optionInfo = optionInfoMap.get(data.value);\n\n        if (optionInfo == null ? void 0 : optionInfo.raw) {\n          return (_c = (_a = slots.label) == null ? void 0 : _a.call(slots, {\n            data: optionInfo.raw\n          })) != null ? _c : (_b = props.formatLabel) == null ? void 0 : _b.call(props, optionInfo.raw);\n        }\n      }\n\n      return data.label;\n    };\n\n    return () => createVNode(Trigger, mergeProps({\n      \"trigger\": \"click\",\n      \"position\": \"bl\",\n      \"popupOffset\": 4,\n      \"animationName\": \"slide-dynamic-origin\",\n      \"hideEmpty\": true,\n      \"preventFocus\": true,\n      \"autoFitPopupWidth\": true,\n      \"autoFitTransformOrigin\": true,\n      \"disabled\": mergedDisabled.value,\n      \"popupVisible\": computedPopupVisible.value,\n      \"unmountOnClose\": props.unmountOnClose,\n      \"clickToClose\": !(props.allowSearch || props.allowCreate),\n      \"popupContainer\": props.popupContainer,\n      \"onPopupVisibleChange\": handlePopupVisibleChange\n    }, props.triggerProps), {\n      default: () => {\n        var _a, _b;\n\n        return [(_b = (_a = slots.trigger) == null ? void 0 : _a.call(slots)) != null ? _b : createVNode(SelectView, mergeProps({\n          \"class\": prefixCls,\n          \"modelValue\": selectViewValue.value,\n          \"inputValue\": computedInputValue.value,\n          \"multiple\": props.multiple,\n          \"disabled\": mergedDisabled.value,\n          \"error\": mergedError.value,\n          \"loading\": props.loading,\n          \"allowClear\": props.allowClear,\n          \"allowCreate\": props.allowCreate,\n          \"allowSearch\": Boolean(props.allowSearch),\n          \"opened\": computedPopupVisible.value,\n          \"maxTagCount\": props.maxTagCount,\n          \"placeholder\": props.placeholder,\n          \"bordered\": props.bordered,\n          \"size\": mergedSize.value,\n          \"onInputValueChange\": handleInputValueChange,\n          \"onRemove\": handleRemove,\n          \"onClear\": handleClear,\n          \"onKeydown\": handleKeyDown\n        }, attrs), {\n          \"label\": renderLabel,\n          \"prefix\": slots.prefix,\n          \"arrow-icon\": slots[\"arrow-icon\"],\n          \"loading-icon\": slots[\"loading-icon\"],\n          \"search-icon\": slots[\"search-icon\"]\n        })];\n      },\n      content: renderDropDown\n    });\n  }\n\n});\n\nexport { _Select as default };","map":{"version":3,"names":["__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","defineComponent","toRefs","computed","ref","watch","nextTick","watchEffect","createVNode","mergeProps","isVNode","getPrefixCls","isUndefined","isObject","isFunction","isArray","isNumber","isNull","getKeyFromValue","isGroupOptionInfo","isValidOption","Trigger","SelectView","SelectDropdown","Option","Optgroup","VirtualList","useSelect","useTrigger","useFormItem","debounce","_isSlot","s","toString","DEFAULT_FIELD_NAMES","label","disabled","tagProps","render","_Select","name","components","inheritAttrs","props","multiple","type","Boolean","default","modelValue","String","Number","Array","defaultValue","inputValue","defaultInputValue","size","placeholder","loading","error","allowClear","allowSearch","allowCreate","maxTagCount","popupContainer","bordered","defaultActiveFirstOption","popupVisible","defaultPopupVisible","unmountOnClose","filterOption","Function","options","virtualListProps","triggerProps","formatLabel","fallbackOption","showExtraOptions","valueKey","searchDelay","limit","fieldNames","emits","visible","ev","removed","setup","slots","emit","attrs","prefixCls","mergedSize","mergedDisabled","mergedError","eventHandlers","component","retainInputValue","data","optionInfo","optionInfoMap","get","dropdownRef","optionRefs","virtualListRef","computedPopupVisible","handlePopupVisibleChange","_value","computedValueObjects","_a","mergedValue","valueArray","map","computedValueKeys","mergedFieldNames","getFallBackOption","getExtraValueData","keyArray","item","includes","origin","push","computedInputValue","extraValueObjects","extraOptions","valueData","length","i","_inputValue","updateInputValue","getValueFromValueKeys","valueKeys","_b","_a2","_b2","updateValue","onChange","handleSelect","enabledOptionKeys","info","concat","filter","_key","handleSearch","handleInputValueChange","handleRemove","newKeys","handleClear","e","stopPropagation","handleDropdownScroll","handleDropdownReachBottom","validOptions","validOptionInfos","handleKeyDown","onSelect","onPopupVisibleChange","selectViewValue","result","closable","getOptionContentFunc","option","optionSlot","renderOption","_slot","child","ref2","$el","renderDropDown","empty","footer","renderLabel","_c","raw","trigger","prefix","content"],"sources":["/www/wwwroot/admin/node_modules/@arco-design/web-vue/es/select/select.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nimport { defineComponent, toRefs, computed, ref, watch, nextTick, watchEffect, createVNode, mergeProps, isVNode } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { isUndefined, isObject, isFunction, isArray, isNumber, isNull } from \"../_utils/is.js\";\nimport { getKeyFromValue, isGroupOptionInfo, isValidOption } from \"./utils.js\";\nimport Trigger from \"../trigger/index.js\";\nimport SelectView from \"../_components/select-view/select-view.js\";\nimport SelectDropdown from \"./select-dropdown.js\";\nimport Option from \"./option.js\";\nimport Optgroup from \"./optgroup.js\";\nimport VirtualList from \"../_components/virtual-list/virtual-list.js\";\nimport { useSelect } from \"./hooks/use-select.js\";\nimport { useTrigger } from \"../_hooks/use-trigger.js\";\nimport { useFormItem } from \"../_hooks/use-form-item.js\";\nimport { debounce } from \"../_utils/debounce.js\";\nfunction _isSlot(s) {\n  return typeof s === \"function\" || Object.prototype.toString.call(s) === \"[object Object]\" && !isVNode(s);\n}\nconst DEFAULT_FIELD_NAMES = {\n  value: \"value\",\n  label: \"label\",\n  disabled: \"disabled\",\n  tagProps: \"tagProps\",\n  render: \"render\"\n};\nvar _Select = defineComponent({\n  name: \"Select\",\n  components: {\n    Trigger,\n    SelectView\n  },\n  inheritAttrs: false,\n  props: {\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    modelValue: {\n      type: [String, Number, Object, Array]\n    },\n    defaultValue: {\n      type: [String, Number, Object, Array],\n      default: (props) => isUndefined(props.multiple) ? \"\" : []\n    },\n    inputValue: {\n      type: String\n    },\n    defaultInputValue: {\n      type: String,\n      default: \"\"\n    },\n    size: {\n      type: String\n    },\n    placeholder: String,\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    error: {\n      type: Boolean,\n      default: false\n    },\n    allowClear: {\n      type: Boolean,\n      default: false\n    },\n    allowSearch: {\n      type: [Boolean, Object],\n      default: (props) => Boolean(props.multiple)\n    },\n    allowCreate: {\n      type: Boolean,\n      default: false\n    },\n    maxTagCount: {\n      type: Number,\n      default: 0\n    },\n    popupContainer: {\n      type: [String, Object]\n    },\n    bordered: {\n      type: Boolean,\n      default: true\n    },\n    defaultActiveFirstOption: {\n      type: Boolean,\n      default: true\n    },\n    popupVisible: {\n      type: Boolean,\n      default: void 0\n    },\n    defaultPopupVisible: {\n      type: Boolean,\n      default: false\n    },\n    unmountOnClose: {\n      type: Boolean,\n      default: false\n    },\n    filterOption: {\n      type: [Boolean, Function],\n      default: true\n    },\n    options: {\n      type: Array,\n      default: () => []\n    },\n    virtualListProps: {\n      type: Object\n    },\n    triggerProps: {\n      type: Object\n    },\n    formatLabel: {\n      type: Function\n    },\n    fallbackOption: {\n      type: [Boolean, Function],\n      default: true\n    },\n    showExtraOptions: {\n      type: Boolean,\n      default: true\n    },\n    valueKey: {\n      type: String,\n      default: \"value\"\n    },\n    searchDelay: {\n      type: Number,\n      default: 500\n    },\n    limit: {\n      type: Number,\n      default: 0\n    },\n    fieldNames: {\n      type: Object\n    }\n  },\n  emits: {\n    \"update:modelValue\": (value) => true,\n    \"update:inputValue\": (inputValue) => true,\n    \"update:popupVisible\": (visible) => true,\n    \"change\": (value) => true,\n    \"inputValueChange\": (inputValue) => true,\n    \"popupVisibleChange\": (visible) => true,\n    \"clear\": (ev) => true,\n    \"remove\": (removed) => true,\n    \"search\": (inputValue) => true,\n    \"dropdownScroll\": (ev) => true,\n    \"dropdownReachBottom\": (ev) => true,\n    \"exceedLimit\": (value, ev) => true\n  },\n  setup(props, {\n    slots,\n    emit,\n    attrs\n  }) {\n    const {\n      size,\n      disabled,\n      error,\n      options,\n      filterOption,\n      valueKey,\n      multiple,\n      popupVisible,\n      showExtraOptions,\n      modelValue,\n      fieldNames,\n      loading\n    } = toRefs(props);\n    const prefixCls = getPrefixCls(\"select\");\n    const {\n      mergedSize,\n      mergedDisabled,\n      mergedError,\n      eventHandlers\n    } = useFormItem({\n      size,\n      disabled,\n      error\n    });\n    const component = computed(() => props.virtualListProps ? \"div\" : \"li\");\n    const retainInputValue = computed(() => isObject(props.allowSearch) && Boolean(props.allowSearch.retainInputValue));\n    computed(() => {\n      if (isFunction(props.formatLabel)) {\n        return (data) => {\n          const optionInfo = optionInfoMap.get(data.value);\n          return props.formatLabel(optionInfo);\n        };\n      }\n      return void 0;\n    });\n    const dropdownRef = ref();\n    const optionRefs = ref({});\n    const virtualListRef = ref();\n    const {\n      computedPopupVisible,\n      handlePopupVisibleChange\n    } = useTrigger({\n      popupVisible,\n      emit\n    });\n    const _value = ref(props.defaultValue);\n    const computedValueObjects = computed(() => {\n      var _a;\n      const mergedValue = (_a = props.modelValue) != null ? _a : _value.value;\n      const valueArray = isArray(mergedValue) ? mergedValue : mergedValue || isNumber(mergedValue) ? [mergedValue] : [];\n      return valueArray.map((value) => ({\n        value,\n        key: getKeyFromValue(value, props.valueKey)\n      }));\n    });\n    watch(modelValue, (value) => {\n      if (isUndefined(value) || isNull(value)) {\n        _value.value = multiple.value ? [] : \"\";\n      }\n    });\n    const computedValueKeys = computed(() => computedValueObjects.value.map((obj) => obj.key));\n    const mergedFieldNames = computed(() => __spreadValues(__spreadValues({}, DEFAULT_FIELD_NAMES), fieldNames == null ? void 0 : fieldNames.value));\n    const getFallBackOption = (value) => {\n      if (isFunction(props.fallbackOption)) {\n        return props.fallbackOption(value);\n      }\n      return {\n        [mergedFieldNames.value.value]: value,\n        [mergedFieldNames.value.label]: String(isObject(value) ? value[valueKey == null ? void 0 : valueKey.value] : value)\n      };\n    };\n    const getExtraValueData = () => {\n      const valueArray = [];\n      const keyArray = [];\n      if (props.allowCreate || props.fallbackOption) {\n        for (const item of computedValueObjects.value) {\n          if (!keyArray.includes(item.key)) {\n            const optionInfo = optionInfoMap.get(item.key);\n            if (!optionInfo || optionInfo.origin === \"extraOptions\") {\n              valueArray.push(item);\n              keyArray.push(item.key);\n            }\n          }\n        }\n      }\n      if (props.allowCreate && computedInputValue.value) {\n        const key = getKeyFromValue(computedInputValue.value);\n        if (!keyArray.includes(key)) {\n          const optionInfo = optionInfoMap.get(key);\n          if (!optionInfo || optionInfo.origin === \"extraOptions\") {\n            valueArray.push({\n              value: computedInputValue.value,\n              key\n            });\n          }\n        }\n      }\n      return valueArray;\n    };\n    const extraValueObjects = ref([]);\n    const extraOptions = computed(() => extraValueObjects.value.map((obj) => getFallBackOption(obj.value)));\n    nextTick(() => {\n      watchEffect(() => {\n        var _a;\n        const valueData = getExtraValueData();\n        if (valueData.length !== extraValueObjects.value.length) {\n          extraValueObjects.value = valueData;\n        } else if (valueData.length > 0) {\n          for (let i = 0; i < valueData.length; i++) {\n            if (valueData[i].key !== ((_a = extraValueObjects.value[i]) == null ? void 0 : _a.key)) {\n              extraValueObjects.value = valueData;\n              break;\n            }\n          }\n        }\n      });\n    });\n    const _inputValue = ref(\"\");\n    const computedInputValue = computed(() => {\n      var _a;\n      return (_a = props.inputValue) != null ? _a : _inputValue.value;\n    });\n    watch(computedPopupVisible, (visible) => {\n      if (!visible && !retainInputValue.value && computedInputValue.value) {\n        updateInputValue(\"\");\n      }\n    });\n    const getValueFromValueKeys = (valueKeys) => {\n      var _a, _b;\n      if (!props.multiple) {\n        return (_b = (_a = optionInfoMap.get(valueKeys[0])) == null ? void 0 : _a.value) != null ? _b : \"\";\n      }\n      return valueKeys.map((key) => {\n        var _a2, _b2;\n        return (_b2 = (_a2 = optionInfoMap.get(key)) == null ? void 0 : _a2.value) != null ? _b2 : \"\";\n      });\n    };\n    const updateValue = (valueKeys) => {\n      var _a, _b;\n      const value = getValueFromValueKeys(valueKeys);\n      _value.value = value;\n      emit(\"update:modelValue\", value);\n      emit(\"change\", value);\n      (_b = (_a = eventHandlers.value) == null ? void 0 : _a.onChange) == null ? void 0 : _b.call(_a);\n    };\n    const updateInputValue = (inputValue) => {\n      _inputValue.value = inputValue;\n      emit(\"update:inputValue\", inputValue);\n      emit(\"inputValueChange\", inputValue);\n    };\n    const handleSelect = (key, ev) => {\n      if (props.multiple) {\n        if (!computedValueKeys.value.includes(key)) {\n          if (enabledOptionKeys.value.includes(key)) {\n            if (props.limit > 0 && computedValueKeys.value.length >= props.limit) {\n              const info = optionInfoMap.get(key);\n              emit(\"exceedLimit\", info == null ? void 0 : info.value, ev);\n            } else {\n              const valueKeys = computedValueKeys.value.concat(key);\n              updateValue(valueKeys);\n            }\n          }\n        } else {\n          const valueKeys = computedValueKeys.value.filter((_key) => _key !== key);\n          updateValue(valueKeys);\n        }\n        if (!retainInputValue.value) {\n          updateInputValue(\"\");\n        }\n      } else {\n        if (key !== computedValueKeys.value[0]) {\n          updateValue([key]);\n        }\n        if (retainInputValue.value) {\n          const optionInfo = optionInfoMap.get(key);\n          if (optionInfo) {\n            updateInputValue(optionInfo.label);\n          }\n        }\n        handlePopupVisibleChange(false);\n      }\n    };\n    const handleSearch = debounce((value) => {\n      emit(\"search\", value);\n    }, props.searchDelay);\n    const handleInputValueChange = (inputValue) => {\n      if (inputValue !== computedInputValue.value) {\n        if (!computedPopupVisible.value) {\n          handlePopupVisibleChange(true);\n        }\n        updateInputValue(inputValue);\n        if (props.allowSearch) {\n          handleSearch(inputValue);\n        }\n      }\n    };\n    const handleRemove = (key) => {\n      const optionInfo = optionInfoMap.get(key);\n      const newKeys = computedValueKeys.value.filter((_key) => _key !== key);\n      updateValue(newKeys);\n      emit(\"remove\", optionInfo == null ? void 0 : optionInfo.value);\n    };\n    const handleClear = (e) => {\n      e == null ? void 0 : e.stopPropagation();\n      const newKeys = computedValueKeys.value.filter((key) => {\n        var _a;\n        return (_a = optionInfoMap.get(key)) == null ? void 0 : _a.disabled;\n      });\n      updateValue(newKeys);\n      updateInputValue(\"\");\n      emit(\"clear\", e);\n    };\n    const handleDropdownScroll = (e) => {\n      emit(\"dropdownScroll\", e);\n    };\n    const handleDropdownReachBottom = (e) => {\n      emit(\"dropdownReachBottom\", e);\n    };\n    const {\n      validOptions,\n      optionInfoMap,\n      validOptionInfos,\n      enabledOptionKeys,\n      handleKeyDown\n    } = useSelect({\n      multiple,\n      options,\n      extraOptions,\n      inputValue: computedInputValue,\n      filterOption,\n      showExtraOptions,\n      component,\n      valueKey,\n      fieldNames,\n      loading,\n      popupVisible: computedPopupVisible,\n      valueKeys: computedValueKeys,\n      dropdownRef,\n      optionRefs,\n      virtualListRef,\n      onSelect: handleSelect,\n      onPopupVisibleChange: handlePopupVisibleChange\n    });\n    const selectViewValue = computed(() => {\n      var _a;\n      const result = [];\n      for (const item of computedValueObjects.value) {\n        const optionInfo = optionInfoMap.get(item.key);\n        if (optionInfo) {\n          result.push(__spreadProps(__spreadValues({}, optionInfo), {\n            value: item.key,\n            label: (_a = optionInfo == null ? void 0 : optionInfo.label) != null ? _a : String(isObject(item.value) ? item.value[valueKey == null ? void 0 : valueKey.value] : item.value),\n            closable: !(optionInfo == null ? void 0 : optionInfo.disabled),\n            tagProps: optionInfo == null ? void 0 : optionInfo.tagProps\n          }));\n        }\n      }\n      return result;\n    });\n    const getOptionContentFunc = (optionInfo) => {\n      if (isFunction(slots.option)) {\n        const optionSlot = slots.option;\n        return () => optionSlot({\n          data: optionInfo\n        });\n      }\n      if (isFunction(optionInfo.render)) {\n        return optionInfo.render;\n      }\n      return () => optionInfo.label;\n    };\n    const renderOption = (optionInfo) => {\n      if (isGroupOptionInfo(optionInfo)) {\n        let _slot;\n        return createVNode(Optgroup, {\n          \"key\": optionInfo.key,\n          \"label\": optionInfo.label\n        }, _isSlot(_slot = optionInfo.options.map((child) => renderOption(child))) ? _slot : {\n          default: () => [_slot]\n        });\n      }\n      if (!isValidOption(optionInfo, {\n        inputValue: computedInputValue.value,\n        filterOption: filterOption == null ? void 0 : filterOption.value\n      })) {\n        return null;\n      }\n      return createVNode(Option, {\n        \"ref\": (ref2) => {\n          if (ref2 == null ? void 0 : ref2.$el) {\n            optionRefs.value[optionInfo.key] = ref2.$el;\n          }\n        },\n        \"key\": optionInfo.key,\n        \"value\": optionInfo.value,\n        \"label\": optionInfo.label,\n        \"disabled\": optionInfo.disabled,\n        \"internal\": true\n      }, {\n        default: getOptionContentFunc(optionInfo)\n      });\n    };\n    const renderDropDown = () => {\n      return createVNode(SelectDropdown, {\n        \"ref\": dropdownRef,\n        \"loading\": props.loading,\n        \"empty\": validOptionInfos.value.length === 0,\n        \"virtualList\": Boolean(props.virtualListProps),\n        \"onScroll\": handleDropdownScroll,\n        \"onReachBottom\": handleDropdownReachBottom\n      }, {\n        \"default\": () => {\n          var _a, _b;\n          return [...(_b = (_a = slots.default) == null ? void 0 : _a.call(slots)) != null ? _b : [], ...validOptions.value.map(renderOption)];\n        },\n        \"virtual-list\": () => createVNode(VirtualList, mergeProps(props.virtualListProps, {\n          \"ref\": virtualListRef,\n          \"data\": validOptions.value\n        }), {\n          item: ({\n            item\n          }) => renderOption(item)\n        }),\n        \"empty\": slots.empty,\n        \"footer\": slots.footer\n      });\n    };\n    const renderLabel = ({\n      data\n    }) => {\n      var _a, _b, _c;\n      if (slots.label || isFunction(props.formatLabel)) {\n        const optionInfo = optionInfoMap.get(data.value);\n        if (optionInfo == null ? void 0 : optionInfo.raw) {\n          return (_c = (_a = slots.label) == null ? void 0 : _a.call(slots, {\n            data: optionInfo.raw\n          })) != null ? _c : (_b = props.formatLabel) == null ? void 0 : _b.call(props, optionInfo.raw);\n        }\n      }\n      return data.label;\n    };\n    return () => createVNode(Trigger, mergeProps({\n      \"trigger\": \"click\",\n      \"position\": \"bl\",\n      \"popupOffset\": 4,\n      \"animationName\": \"slide-dynamic-origin\",\n      \"hideEmpty\": true,\n      \"preventFocus\": true,\n      \"autoFitPopupWidth\": true,\n      \"autoFitTransformOrigin\": true,\n      \"disabled\": mergedDisabled.value,\n      \"popupVisible\": computedPopupVisible.value,\n      \"unmountOnClose\": props.unmountOnClose,\n      \"clickToClose\": !(props.allowSearch || props.allowCreate),\n      \"popupContainer\": props.popupContainer,\n      \"onPopupVisibleChange\": handlePopupVisibleChange\n    }, props.triggerProps), {\n      default: () => {\n        var _a, _b;\n        return [(_b = (_a = slots.trigger) == null ? void 0 : _a.call(slots)) != null ? _b : createVNode(SelectView, mergeProps({\n          \"class\": prefixCls,\n          \"modelValue\": selectViewValue.value,\n          \"inputValue\": computedInputValue.value,\n          \"multiple\": props.multiple,\n          \"disabled\": mergedDisabled.value,\n          \"error\": mergedError.value,\n          \"loading\": props.loading,\n          \"allowClear\": props.allowClear,\n          \"allowCreate\": props.allowCreate,\n          \"allowSearch\": Boolean(props.allowSearch),\n          \"opened\": computedPopupVisible.value,\n          \"maxTagCount\": props.maxTagCount,\n          \"placeholder\": props.placeholder,\n          \"bordered\": props.bordered,\n          \"size\": mergedSize.value,\n          \"onInputValueChange\": handleInputValueChange,\n          \"onRemove\": handleRemove,\n          \"onClear\": handleClear,\n          \"onKeydown\": handleKeyDown\n        }, attrs), {\n          \"label\": renderLabel,\n          \"prefix\": slots.prefix,\n          \"arrow-icon\": slots[\"arrow-icon\"],\n          \"loading-icon\": slots[\"loading-icon\"],\n          \"search-icon\": slots[\"search-icon\"]\n        })];\n      },\n      content: renderDropDown\n    });\n  }\n});\nexport { _Select as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}